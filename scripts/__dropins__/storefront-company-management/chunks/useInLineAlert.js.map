{"version":3,"file":"useInLineAlert.js","sources":["../../node_modules/@adobe-commerce/elsie/src/icons/CheckWithCircle.svg","../../node_modules/@adobe-commerce/elsie/src/icons/Warning.svg","../../node_modules/@adobe-commerce/elsie/src/icons/WarningWithCircle.svg","/@dropins/storefront-company-management/src/hooks/useInLineAlert.tsx"],"sourcesContent":["import * as React from \"react\";\nconst SvgCheckWithCircle = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", d: \"M0.75 12C0.75 5.78421 5.78421 0.75 12 0.75C18.2158 0.75 23.25 5.78421 23.25 12C23.25 18.2158 18.2158 23.25 12 23.25C5.78421 23.25 0.75 18.2158 0.75 12Z\", stroke: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", d: \"M6.75 12.762L10.2385 15.75L17.25 9\", stroke: \"currentColor\" }));\nexport default SvgCheckWithCircle;\n","import * as React from \"react\";\nconst SvgWarning = (props) => /* @__PURE__ */ React.createElement(\"svg\", { id: \"Icon_Warning_Base\", width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"g\", { clipPath: \"url(#clip0_841_1324)\" }, /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", d: \"M11.9949 2.30237L0.802734 21.6977H23.1977L11.9949 2.30237Z\", stroke: \"currentColor\", strokeWidth: 1, strokeLinecap: \"round\", strokeLinejoin: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", d: \"M12.4336 10.5504L12.3373 14.4766H11.6632L11.5669 10.5504V9.51273H12.4336V10.5504ZM11.5883 18.2636V17.2687H12.4229V18.2636H11.5883Z\", stroke: \"currentColor\", strokeWidth: 1, strokeLinecap: \"round\", strokeLinejoin: \"round\" })), /* @__PURE__ */ React.createElement(\"defs\", null, /* @__PURE__ */ React.createElement(\"clipPath\", { id: \"clip0_841_1324\" }, /* @__PURE__ */ React.createElement(\"rect\", { width: 24, height: 21, fill: \"white\", transform: \"translate(0 1.5)\", strokeWidth: 1 }))));\nexport default SvgWarning;\n","import * as React from \"react\";\nconst SvgWarningWithCircle = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", d: \"M0.75 12C0.75 5.78421 5.78421 0.75 12 0.75C18.2158 0.75 23.25 5.78421 23.25 12C23.25 18.2158 18.2158 23.25 12 23.25C5.78421 23.25 0.75 18.2158 0.75 12Z\", stroke: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", d: \"M11.75 5.88423V4.75H12.25V5.88423L12.0485 13.0713H11.9515L11.75 5.88423ZM11.7994 18.25V16.9868H12.2253V18.25H11.7994Z\", stroke: \"currentColor\" }));\nexport default SvgWarningWithCircle;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\nimport { useState, useCallback, useEffect } from 'preact/hooks';\nimport { InLineAlertProps } from '../types/companyProfile.types';\nimport {\n  CheckWithCircle as Success,\n  Warning,\n  WarningWithCircle as Error,\n} from '@adobe-commerce/elsie/icons';\n\nexport type AlertType = 'success' | 'warning' | 'error';\n\nexport interface AlertOptions {\n  type: AlertType;\n  text: string;\n  autoHide?: boolean;\n  autoHideDelay?: number;\n}\n\nexport interface UseInLineAlertReturn {\n  inLineAlertProps: InLineAlertProps;\n  handleSetInLineAlert: (notification?: AlertOptions) => void;\n  clearAlert: () => void;\n  showSuccess: (text: string, autoHide?: boolean) => void;\n  showWarning: (text: string, autoHide?: boolean) => void;\n  showError: (text: string, autoHide?: boolean) => void;\n}\n\nconst iconsList = {\n  success: <Success />,\n  warning: <Warning />,\n  error: <Error />,\n};\n\nexport const useInLineAlert = (): UseInLineAlertReturn => {\n  const [inLineAlertProps, setInLineAlertProps] = useState<InLineAlertProps>({});\n  const [autoHideTimer, setAutoHideTimer] = useState<ReturnType<typeof setTimeout> | null>(null);\n\n  const clearAlert = useCallback(() => {\n    setInLineAlertProps({});\n    if (autoHideTimer) {\n      clearTimeout(autoHideTimer);\n      setAutoHideTimer(null);\n    }\n  }, [autoHideTimer]);\n\n  const handleSetInLineAlert = useCallback(\n    (notification?: AlertOptions) => {\n      // Clear existing timer\n      if (autoHideTimer) {\n        clearTimeout(autoHideTimer);\n        setAutoHideTimer(null);\n      }\n\n      if (!notification?.type) {\n        setInLineAlertProps({});\n        return;\n      }\n\n      const icon = iconsList[notification.type];\n\n      setInLineAlertProps({\n        type: notification.type,\n        text: notification.text,\n        icon,\n      });\n\n      // Auto-hide if requested\n      if (notification.autoHide !== false) {\n        const delay = notification.autoHideDelay || (notification.type === 'success' ? 3000 : 5000);\n        const timer = setTimeout(() => {\n          setInLineAlertProps({});\n          setAutoHideTimer(null);\n        }, delay);\n        setAutoHideTimer(timer);\n      }\n    },\n    [autoHideTimer]\n  );\n\n  const showSuccess = useCallback(\n    (text: string, autoHide: boolean = true) => {\n      handleSetInLineAlert({ type: 'success', text, autoHide });\n    },\n    [handleSetInLineAlert]\n  );\n\n  const showWarning = useCallback(\n    (text: string, autoHide: boolean = false) => {\n      handleSetInLineAlert({ type: 'warning', text, autoHide });\n    },\n    [handleSetInLineAlert]\n  );\n\n  const showError = useCallback(\n    (text: string, autoHide: boolean = false) => {\n      handleSetInLineAlert({ type: 'error', text, autoHide });\n    },\n    [handleSetInLineAlert]\n  );\n\n  // Cleanup timer on unmount\n  useEffect(() => {\n    return () => {\n      if (autoHideTimer) {\n        clearTimeout(autoHideTimer);\n      }\n    };\n  }, [autoHideTimer]);\n\n  return {\n    inLineAlertProps,\n    handleSetInLineAlert,\n    clearAlert,\n    showSuccess,\n    showWarning,\n    showError,\n  };\n};\n\nexport default useInLineAlert;\n"],"names":["SvgCheckWithCircle","props","React","SvgWarning","SvgWarningWithCircle","iconsList","Success","Warning","Error","useInLineAlert","inLineAlertProps","setInLineAlertProps","useState","autoHideTimer","setAutoHideTimer","clearAlert","useCallback","handleSetInLineAlert","notification","icon","delay","timer","showSuccess","text","autoHide","showWarning","showError","useEffect"],"mappings":"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","x_google_ignoreList":[0,1,2]}