{"version":3,"file":"isCompanyRoleNameAvailable.js","sources":["/@dropins/storefront-company-management/src/api/companyRoles/graphql/fragments.ts","/@dropins/storefront-company-management/src/api/companyRoles/graphql/queries.ts","/@dropins/storefront-company-management/src/data/transforms/transform-company-roles.ts","/@dropins/storefront-company-management/src/api/companyRoles/getCompanyRoles.ts","/@dropins/storefront-company-management/src/api/companyRoles/getCompanyAclResources.ts","/@dropins/storefront-company-management/src/api/companyRoles/graphql/mutations.ts","/@dropins/storefront-company-management/src/api/companyRoles/createCompanyRole.ts","/@dropins/storefront-company-management/src/api/companyRoles/updateCompanyRole.ts","/@dropins/storefront-company-management/src/api/companyRoles/deleteCompanyRole.ts","/@dropins/storefront-company-management/src/api/companyRoles/isCompanyRoleNameAvailable.ts"],"sourcesContent":["/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\n// Fragment for company role data\nexport const COMPANY_ROLE_FRAGMENT = /* GraphQL */ `\n  fragment CompanyRoleFragment on CompanyRole {\n    id\n    name\n    users_count\n    permissions {\n      id\n      text\n      sort_order\n      children {\n        id\n        text\n        sort_order\n        children {\n          id\n          text\n          sort_order\n          children {\n            id\n            text\n            sort_order\n            children {\n              id\n              text\n              sort_order\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { COMPANY_ROLE_FRAGMENT } from './fragments';\n\nexport const GET_COMPANY_ROLES = /* GraphQL */ `\n  query GetCompanyRoles($pageSize: Int, $currentPage: Int) {\n    company {\n      roles(pageSize: $pageSize, currentPage: $currentPage) {\n        items {\n          ...CompanyRoleFragment\n        }\n        total_count\n        page_info {\n          current_page\n          page_size\n          total_pages\n        }\n      }\n    }\n  }\n  ${COMPANY_ROLE_FRAGMENT}\n`;\n\nexport const GET_COMPANY_ROLE = /* GraphQL */ `\n  query GetCompanyRole($id: ID!) {\n    company {\n      role(id: $id) {\n        ...CompanyRoleFragment\n      }\n    }\n  }\n  ${COMPANY_ROLE_FRAGMENT}\n`;\n\nexport const GET_COMPANY_ACL_RESOURCES = /* GraphQL */ `\n  query GetCompanyAclResources {\n    company {\n      acl_resources {\n        id\n        text\n        sort_order\n        children {\n          id\n          text\n          sort_order\n          children {\n            id\n            text\n            sort_order\n            children {\n              id\n              text\n              sort_order\n              children {\n                id\n                text\n                sort_order\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport const IS_COMPANY_ROLE_NAME_AVAILABLE = /* GraphQL */ `\n  query IsCompanyRoleNameAvailable($name: String!) {\n    isCompanyRoleNameAvailable(name: $name) {\n      is_role_name_available\n    }\n  }\n`;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport {\n  CompanyAclResourceResponse,\n  CompanyRoleResponse,\n  CompanyRolesResponse,\n  PageInfoResponse,\n  GetCompanyRolesResponse,\n  GetCompanyRoleResponse,\n  GetCompanyAclResourcesResponse,\n  CreateCompanyRoleResponse,\n  UpdateCompanyRoleResponse,\n  CompanyRoleCreateInput,\n  CompanyRoleUpdateInput,\n} from '../../types/api/companyRoles.types';\nimport {\n  CompanyAclResourceModel,\n  CompanyRoleModel,\n  CompanyRolesResponseModel,\n  PageInfoModel,\n  CompanyRoleCreateInputModel,\n  CompanyRoleUpdateInputModel,\n} from '../models/company-role';\n\nexport const transformCompanyAclResource = (\n  response: CompanyAclResourceResponse\n): CompanyAclResourceModel => {\n  return {\n    id: response.id,\n    text: response.text,\n    sortOrder: response.sort_order,\n    children: response.children?.map(transformCompanyAclResource),\n  };\n};\n\nexport const transformCompanyRole = (\n  response: CompanyRoleResponse\n): CompanyRoleModel => {\n  return {\n    id: response.id,\n    name: response.name,\n    usersCount: response.users_count,\n    permissions: response.permissions.map(transformCompanyAclResource),\n  };\n};\n\nexport const transformPageInfo = (\n  response: PageInfoResponse\n): PageInfoModel => {\n  return {\n    currentPage: response.current_page,\n    pageSize: response.page_size,\n    totalPages: response.total_pages,\n  };\n};\n\nexport const transformCompanyRolesResponse = (\n  response: CompanyRolesResponse\n): CompanyRolesResponseModel => {\n  return {\n    items: response.items.map(transformCompanyRole),\n    totalCount: response.total_count,\n    pageInfo: transformPageInfo(response.page_info),\n  };\n};\n\nexport const transformGetCompanyRolesResponse = (\n  response: GetCompanyRolesResponse\n): CompanyRolesResponseModel => {\n  if (response.errors?.length) {\n    throw new Error(response.errors[0].message);\n  }\n  \n  if (!response.data?.company?.roles) {\n    throw new Error('Invalid response: missing company roles data');\n  }\n\n  return transformCompanyRolesResponse(response.data.company.roles);\n};\n\nexport const transformGetCompanyRoleResponse = (\n  response: GetCompanyRoleResponse\n): CompanyRoleModel => {\n  if (response.errors?.length) {\n    throw new Error(response.errors[0].message);\n  }\n  \n  if (!response.data?.company?.role) {\n    throw new Error('Invalid response: missing company role data');\n  }\n\n  return transformCompanyRole(response.data.company.role);\n};\n\nexport const transformGetCompanyAclResourcesResponse = (\n  response: GetCompanyAclResourcesResponse\n): CompanyAclResourceModel[] => {\n  if (response.errors?.length) {\n    throw new Error(response.errors[0].message);\n  }\n  \n  if (!response.data?.company?.acl_resources) {\n    throw new Error('Invalid response: missing ACL resources data');\n  }\n\n  return response.data.company.acl_resources.map(transformCompanyAclResource);\n};\n\nexport const transformCreateCompanyRoleResponse = (\n  response: CreateCompanyRoleResponse\n): CompanyRoleModel => {\n  if (response.errors?.length) {\n    throw new Error(response.errors[0].message);\n  }\n  \n  if (!response.data?.createCompanyRole?.role) {\n    throw new Error('Invalid response: missing created role data');\n  }\n\n  return transformCompanyRole(response.data.createCompanyRole.role);\n};\n\nexport const transformUpdateCompanyRoleResponse = (\n  response: UpdateCompanyRoleResponse\n): CompanyRoleModel => {\n  if (response.errors?.length) {\n    throw new Error(response.errors[0].message);\n  }\n  \n  if (!response.data?.updateCompanyRole?.role) {\n    throw new Error('Invalid response: missing updated role data');\n  }\n\n  return transformCompanyRole(response.data.updateCompanyRole.role);\n};\n\nexport const transformCompanyRoleCreateInput = (\n  input: CompanyRoleCreateInputModel\n): CompanyRoleCreateInput => {\n  return {\n    name: input.name,\n    permissions: input.permissions,\n  };\n};\n\nexport const transformCompanyRoleUpdateInput = (\n  input: CompanyRoleUpdateInputModel\n): CompanyRoleUpdateInput => {\n  return {\n    id: input.id,\n    name: input.name,\n    permissions: input.permissions,\n  };\n};\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { fetchGraphQl } from '../fetch-graphql';\nimport { handleNetworkError } from '../../lib/network-error';\nimport { GET_COMPANY_ROLES } from './graphql/queries';\nimport { GetCompanyRolesVariables, GetCompanyRolesResponse } from '../../types/api/companyRoles.types';\nimport { CompanyRolesResponseModel } from '../../data/models/company-role';\nimport { transformGetCompanyRolesResponse } from '../../data/transforms/transform-company-roles';\n\n/**\n * Retrieves a paginated list of all company roles with basic information.\n * \n * Returns roles with their names, assigned user counts, and IDs. Supports\n * server-side pagination and filtering by role name.\n * \n * **Permissions Required:**\n * - `Magento_Company::roles_view` - User must have permission to view company roles\n * \n * @param variables - Optional query parameters for pagination and filtering\n * @returns Promise resolving to paginated roles list with metadata\n * @throws Error if network request fails or user lacks permission\n * \n * @example\n * ```typescript\n * const response = await getCompanyRoles({\n *   pageSize: 20,\n *   currentPage: 1,\n *   filter: { name: 'Manager' }\n * });\n * \n * console.log(`Total roles: ${response.totalCount}`);\n * response.items.forEach(role => {\n *   console.log(`${role.name}: ${role.usersCount} users`);\n * });\n * ```\n */\nexport const getCompanyRoles = async (\n  variables: GetCompanyRolesVariables = {}\n): Promise<CompanyRolesResponseModel> => {\n  try {\n    const response: GetCompanyRolesResponse = await fetchGraphQl(GET_COMPANY_ROLES, {\n      variables,\n      method: 'GET',\n      cache: 'no-cache',\n    });\n\n    return transformGetCompanyRolesResponse(response);\n  } catch (error) {\n    return handleNetworkError(error as Error);\n  }\n};\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { fetchGraphQl } from '../fetch-graphql';\nimport { handleNetworkError } from '../../lib/network-error';\nimport { GET_COMPANY_ACL_RESOURCES } from './graphql/queries';\nimport { GetCompanyAclResourcesResponse } from '../../types/api/companyRoles.types';\nimport { CompanyAclResourceModel } from '../../data/models/company-role';\nimport { transformGetCompanyAclResourcesResponse } from '../../data/transforms/transform-company-roles';\n\n/**\n * Retrieves the complete hierarchical tree of ACL (Access Control List) resources.\n * \n * Returns all permission categories and individual permissions available for\n * company role assignment. The structure is hierarchical, with parent permissions\n * containing child permissions.\n * \n * Used by the Roles & Permissions UI to display the permission tree with\n * checkboxes for role creation and editing.\n * \n * @returns Promise resolving to array of top-level ACL resources with nested children\n * @throws Error if network request fails\n * \n * @example\n * ```typescript\n * const resources = await getCompanyAclResources();\n * \n * resources.forEach(category => {\n *   console.log(`Category: ${category.text}`);\n *   category.children?.forEach(permission => {\n *     console.log(`  - ${permission.text} (${permission.id})`);\n *   });\n * });\n * ```\n */\nexport const getCompanyAclResources = async (): Promise<CompanyAclResourceModel[]> => {\n  try {\n    const response: GetCompanyAclResourcesResponse = await fetchGraphQl(GET_COMPANY_ACL_RESOURCES, {\n      method: 'GET',\n      cache: 'force-cache', // ACL resources don't change often, so we can cache them\n    });\n\n    return transformGetCompanyAclResourcesResponse(response);\n  } catch (error) {\n    return handleNetworkError(error as Error);\n  }\n};\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { COMPANY_ROLE_FRAGMENT } from './fragments';\n\nexport const CREATE_COMPANY_ROLE = /* GraphQL */ `\n  mutation CreateCompanyRole($input: CompanyRoleCreateInput!) {\n    createCompanyRole(input: $input) {\n      role {\n        ...CompanyRoleFragment\n      }\n    }\n  }\n  ${COMPANY_ROLE_FRAGMENT}\n`;\n\nexport const UPDATE_COMPANY_ROLE = /* GraphQL */ `\n  mutation UpdateCompanyRole($input: CompanyRoleUpdateInput!) {\n    updateCompanyRole(input: $input) {\n      role {\n        ...CompanyRoleFragment\n      }\n    }\n  }\n  ${COMPANY_ROLE_FRAGMENT}\n`;\n\nexport const DELETE_COMPANY_ROLE = /* GraphQL */ `\n  mutation DeleteCompanyRole($id: ID!) {\n    deleteCompanyRole(id: $id) {\n      success\n    }\n  }\n`;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { fetchGraphQl } from '../fetch-graphql';\nimport { handleNetworkError } from '../../lib/network-error';\nimport { CREATE_COMPANY_ROLE } from './graphql/mutations';\nimport { CreateCompanyRoleVariables, CreateCompanyRoleResponse } from '../../types/api/companyRoles.types';\nimport { CompanyRoleModel, CompanyRoleCreateInputModel } from '../../data/models/company-role';\nimport { \n  transformCreateCompanyRoleResponse,\n  transformCompanyRoleCreateInput \n} from '../../data/transforms/transform-company-roles';\n\n/**\n * Creates a new company role with specified name and permissions.\n * \n * The role name must be unique within the company. Use `isCompanyRoleNameAvailable`\n * to validate name uniqueness before calling this function.\n * \n * **Permissions Required:**\n * - `Magento_Company::roles_edit` - User must have role management permission\n * \n * @param input - Role creation data including name and permission IDs\n * @returns Promise resolving to the newly created role with complete details\n * @throws Error if network request fails, user lacks permission, or name is duplicate\n * \n * @example\n * ```typescript\n * const newRole = await createCompanyRole({\n *   name: 'Sales Manager',\n *   permissions: [\n *     'Magento_Company::index',\n *     'Magento_Company::view',\n *     'Magento_Sales::all',\n *     'Magento_Sales::place_order'\n *   ]\n * });\n * \n * console.log(`Created role: ${newRole.name} (ID: ${newRole.id})`);\n * ```\n */\nexport const createCompanyRole = async (\n  input: CompanyRoleCreateInputModel\n): Promise<CompanyRoleModel> => {\n  try {\n    const variables: CreateCompanyRoleVariables = {\n      input: transformCompanyRoleCreateInput(input),\n    };\n\n    const response: CreateCompanyRoleResponse = await fetchGraphQl(CREATE_COMPANY_ROLE, {\n      variables,\n      method: 'POST',\n    });\n\n    return transformCreateCompanyRoleResponse(response);\n  } catch (error) {\n    return handleNetworkError(error as Error);\n  }\n};\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { fetchGraphQl } from '../fetch-graphql';\nimport { handleNetworkError } from '../../lib/network-error';\nimport { UPDATE_COMPANY_ROLE } from './graphql/mutations';\nimport { UpdateCompanyRoleVariables, UpdateCompanyRoleResponse } from '../../types/api/companyRoles.types';\nimport { CompanyRoleModel, CompanyRoleUpdateInputModel } from '../../data/models/company-role';\nimport { \n  transformUpdateCompanyRoleResponse,\n  transformCompanyRoleUpdateInput \n} from '../../data/transforms/transform-company-roles';\n\n/**\n * Updates an existing company role's name and/or permissions.\n * \n * The role name must be unique within the company (excluding the current role).\n * Use `isCompanyRoleNameAvailable` to validate name uniqueness if changing the name.\n * \n * **Permissions Required:**\n * - `Magento_Company::roles_edit` - User must have role management permission\n * \n * @param input - Role update data including ID, new name, and/or new permission IDs\n * @returns Promise resolving to the updated role with complete details\n * @throws Error if network request fails, user lacks permission, or name is duplicate\n * \n * @example\n * ```typescript\n * const updatedRole = await updateCompanyRole({\n *   id: 'cm9sZS8xMjM=',\n *   name: 'Senior Sales Manager',\n *   permissions: [\n *     'Magento_Company::index',\n *     'Magento_Company::view',\n *     'Magento_Company::edit_account',\n *     'Magento_Sales::all',\n *     'Magento_Sales::place_order',\n *     'Magento_Sales::view_orders'\n *   ]\n * });\n * \n * console.log(`Updated role: ${updatedRole.name}`);\n * ```\n */\nexport const updateCompanyRole = async (\n  input: CompanyRoleUpdateInputModel\n): Promise<CompanyRoleModel> => {\n  try {\n    const variables: UpdateCompanyRoleVariables = {\n      input: transformCompanyRoleUpdateInput(input),\n    };\n\n    const response: UpdateCompanyRoleResponse = await fetchGraphQl(UPDATE_COMPANY_ROLE, {\n      variables,\n      method: 'POST',\n    });\n\n    return transformUpdateCompanyRoleResponse(response);\n  } catch (error) {\n    return handleNetworkError(error as Error);\n  }\n};\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { fetchGraphQl } from '../fetch-graphql';\nimport { handleNetworkError } from '../../lib/network-error';\nimport { handleFetchError } from '../../lib/fetch-error';\nimport { DELETE_COMPANY_ROLE } from './graphql/mutations';\nimport { DeleteCompanyRoleVariables, DeleteCompanyRoleResponse } from '../../types/api/companyRoles.types';\n\n/**\n * Permanently deletes a company role.\n * \n * ⚠️ **IMPORTANT RESTRICTIONS:**\n * - Cannot delete roles with assigned users - reassign users first\n * - Cannot delete default system roles (e.g., \"Default User\")\n * - This operation cannot be undone\n * - Role configuration and permission settings are permanently lost\n * \n * **Permissions Required:**\n * - `Magento_Company::roles_edit` - User must have role management permission\n * \n * @param variables - Delete operation parameters containing the role ID\n * @returns Promise resolving to true if deletion succeeded, false if failed (e.g., role has users)\n * @throws Error if network request fails or user lacks permission\n * \n * @example\n * ```typescript\n * try {\n *   const success = await deleteCompanyRole({ id: 'cm9sZS8xMjM=' });\n *   if (success) {\n *     console.log('Role deleted successfully');\n *   } else {\n *     console.error('Cannot delete: role has assigned users');\n *   }\n * } catch (error) {\n *   console.error('Delete failed:', error.message);\n * }\n * ```\n */\nexport const deleteCompanyRole = async (\n  variables: DeleteCompanyRoleVariables\n): Promise<boolean> => {\n  try {\n    const response: DeleteCompanyRoleResponse = await fetchGraphQl(DELETE_COMPANY_ROLE, {\n      variables,\n      method: 'POST',\n    });\n\n    if (response.errors?.length) {\n      return handleFetchError(response.errors);\n    }\n\n    return response.data.deleteCompanyRole.success;\n  } catch (error) {\n    return handleNetworkError(error as Error);\n  }\n};\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { fetchGraphQl } from '../fetch-graphql';\nimport { handleNetworkError } from '../../lib/network-error';\nimport { handleFetchError } from '../../lib/fetch-error';\nimport { IS_COMPANY_ROLE_NAME_AVAILABLE } from './graphql/queries';\nimport { \n  IsCompanyRoleNameAvailableVariables, \n  IsCompanyRoleNameAvailableResponse \n} from '../../types/api/companyRoles.types';\n\n/**\n * Validates whether a role name is available for use (not already taken).\n * \n * Used for real-time validation during role creation and editing to prevent\n * duplicate role names within a company. Role names are case-sensitive.\n * \n * **Note:** Role names must be unique within a company. Different companies\n * can have roles with the same name.\n * \n * @param variables - Validation parameters containing the role name to check\n * @returns Promise resolving to true if name is available, false if already in use\n * @throws Error if network request fails\n * \n * @example\n * ```typescript\n * const isAvailable = await isCompanyRoleNameAvailable({ \n *   name: 'Sales Manager' \n * });\n * \n * if (isAvailable) {\n *   console.log('Name is available - can proceed with creation');\n * } else {\n *   console.error('Name already exists - choose a different name');\n * }\n * ```\n */\nexport const isCompanyRoleNameAvailable = async (\n  variables: IsCompanyRoleNameAvailableVariables\n): Promise<boolean> => {\n  try {\n    const response: IsCompanyRoleNameAvailableResponse = await fetchGraphQl(\n      IS_COMPANY_ROLE_NAME_AVAILABLE,\n      {\n        variables,\n        method: 'GET',\n        cache: 'no-cache',\n      }\n    );\n\n    if (response.errors?.length) {\n      return handleFetchError(response.errors);\n    }\n\n    return response.data.isCompanyRoleNameAvailable.is_role_name_available;\n  } catch (error) {\n    return handleNetworkError(error as Error);\n  }\n};\n"],"names":["COMPANY_ROLE_FRAGMENT","GET_COMPANY_ROLES","GET_COMPANY_ROLE","GET_COMPANY_ACL_RESOURCES","IS_COMPANY_ROLE_NAME_AVAILABLE","transformCompanyAclResource","response","_a","transformCompanyRole","transformPageInfo","transformCompanyRolesResponse","transformGetCompanyRolesResponse","_c","_b","transformGetCompanyRoleResponse","transformGetCompanyAclResourcesResponse","transformCreateCompanyRoleResponse","transformUpdateCompanyRoleResponse","transformCompanyRoleCreateInput","input","transformCompanyRoleUpdateInput","getCompanyRoles","variables","fetchGraphQl","error","handleNetworkError","getCompanyAclResources","CREATE_COMPANY_ROLE","UPDATE_COMPANY_ROLE","DELETE_COMPANY_ROLE","createCompanyRole","updateCompanyRole","deleteCompanyRole","handleFetchError","isCompanyRoleNameAvailable"],"mappings":"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"}