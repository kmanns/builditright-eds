{"version":3,"file":"useCustomerCompanyInfo.js","sources":["/@dropins/storefront-company-management/src/hooks/containers/useCustomerCompanyInfo.ts"],"sourcesContent":["/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\nimport { useState, useEffect } from 'preact/hooks';\nimport { getCustomerCompany } from '@/company-management/api/getCustomerCompany/getCustomerCompany';\nimport { CustomerCompanyInfo } from '@/company-management/data/models/customer-company-info';\nimport { useCompanyContextListener } from '@/company-management/hooks/useCompanyContextListener';\n\n/**\n * Custom hook for fetching and managing customer company information\n * Listens to companyContext/changed events to refetch data when company context changes\n * @returns Object containing company info and loading state\n */\nexport const useCustomerCompanyInfo = () => {\n  const [companyInfo, setCompanyInfo] = useState<CustomerCompanyInfo | null>(null);\n  const [loading, setLoading] = useState<boolean>(true);\n\n  const fetchCompanyInfo = async () => {\n    try {\n      setLoading(true);\n      const data = await getCustomerCompany();\n      setCompanyInfo(data);\n    } catch (error) {\n      setCompanyInfo(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchCompanyInfo();\n  }, []);\n\n  // Re-fetch customer company info when company context changes (e.g., user switches company)\n  useCompanyContextListener(fetchCompanyInfo);\n\n  return {\n    companyInfo,\n    loading,\n  };\n};\n"],"names":["useCustomerCompanyInfo","companyInfo","setCompanyInfo","useState","loading","setLoading","fetchCompanyInfo","data","getCustomerCompany","useEffect","useCompanyContextListener"],"mappings":"wKA0BO,MAAMA,EAAyB,IAAM,CAC1C,KAAM,CAACC,EAAaC,CAAc,EAAIC,EAAqC,IAAI,EACzE,CAACC,EAASC,CAAU,EAAIF,EAAkB,EAAI,EAE9CG,EAAmB,SAAY,CACnC,GAAI,CACFD,EAAW,EAAI,EACf,MAAME,EAAO,MAAMC,EAAA,EACnBN,EAAeK,CAAI,CACrB,MAAgB,CACdL,EAAe,IAAI,CACrB,QAAA,CACEG,EAAW,EAAK,CAClB,CACF,EAEA,OAAAI,EAAU,IAAM,CACdH,EAAA,CACF,EAAG,CAAA,CAAE,EAGLI,EAA0BJ,CAAgB,EAEnC,CACL,YAAAL,EACA,QAAAG,CAAA,CAEJ"}