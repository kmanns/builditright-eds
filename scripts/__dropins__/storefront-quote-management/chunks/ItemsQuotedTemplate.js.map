{"version":3,"file":"ItemsQuotedTemplate.js","sources":["/@dropins/storefront-quote-management/src/hooks/useRemoveTemplateItems.ts","/@dropins/storefront-quote-management/src/hooks/useItemsQuotedTemplate.ts","/@dropins/storefront-quote-management/src/hooks/useUpdateTemplateQuantities.ts","/@dropins/storefront-quote-management/src/containers/ItemsQuotedTemplate/ItemsQuotedTemplate.tsx"],"sourcesContent":["/********************************************************************\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  Adobe permits you to use, modify, and distribute this \n * file in accordance with the terms of the Adobe license agreement \n * accompanying it. \n *******************************************************************/\n\nimport { useState, useEffect, useCallback } from 'preact/compat';\nimport { events } from '@adobe-commerce/event-bus';\nimport { removeQuoteTemplateItems } from '@/quote-management/api/removeQuoteTemplateItems';\nimport { CartItemModel } from '@/quote-management/data/models/negotiable-quote-model';\n\nconst NOTIFICATION_AUTO_DISMISS_DELAY = 3000;\n\nexport interface UseRemoveTemplateItemsReturn {\n  handleRemoveItems: (items: CartItemModel[]) => void;\n  handleConfirmRemove: () => Promise<void>;\n  handleCancelRemove: () => void;\n  isRemoveModalOpen: boolean;\n  itemsToRemove: CartItemModel[];\n  isRemoving: boolean;\n  removeNotificationState: {\n    type: 'success' | 'error' | null;\n    message: string;\n  };\n}\n\nexport interface UseRemoveTemplateItemsParams {\n  templateId?: string;\n  onRemoveModalStateChange?: (isOpen: boolean) => void;\n  removeSuccessMessage: string;\n  removeErrorMessage: string;\n}\n\n/**\n * Custom hook to manage removing items from a quote template\n */\nexport const useRemoveTemplateItems = (\n  params: UseRemoveTemplateItemsParams\n): UseRemoveTemplateItemsReturn => {\n  const {\n    templateId,\n    onRemoveModalStateChange,\n    removeSuccessMessage,\n    removeErrorMessage,\n  } = params;\n\n  const [isRemoveModalOpen, setIsRemoveModalOpen] = useState(false);\n  const [itemsToRemove, setItemsToRemove] = useState<CartItemModel[]>([]);\n  const [isRemoving, setIsRemoving] = useState(false);\n  const [removeNotificationState, setRemoveNotificationState] = useState<{\n    type: 'success' | 'error' | null;\n    message: string;\n  }>({ type: null, message: '' });\n\n  // Listen for quote template data event (successful removal)\n  useEffect(() => {\n    const templateDataEvent = events.on(\n      'quote-management/quote-template-data',\n      () => {\n        setItemsToRemove([]);\n        setIsRemoving(false);\n        setRemoveNotificationState({\n          type: 'success',\n          message: removeSuccessMessage,\n        });\n        // Auto-close success notification after delay\n        setTimeout(() => {\n          setIsRemoveModalOpen(false);\n          setRemoveNotificationState({ type: null, message: '' });\n          onRemoveModalStateChange?.(false);\n        }, NOTIFICATION_AUTO_DISMISS_DELAY);\n      }\n    );\n    return () => templateDataEvent?.off();\n  }, [removeSuccessMessage, onRemoveModalStateChange]);\n\n  // Unified handler for removing items (single or multiple)\n  const handleRemoveItems = useCallback((items: CartItemModel[]) => {\n    if (!items || items.length === 0) {\n      return;\n    }\n    setItemsToRemove(items);\n    setRemoveNotificationState({ type: null, message: '' });\n    setIsRemoveModalOpen(true);\n  }, []);\n\n  const handleConfirmRemove = useCallback(async () => {\n    if (!templateId || itemsToRemove.length === 0) {\n      return;\n    }\n\n    const uidsToRemove = itemsToRemove.map((item) => item.uid).filter(Boolean) as string[];\n\n    if (uidsToRemove.length === 0) {\n      return;\n    }\n\n    setIsRemoving(true);\n    setRemoveNotificationState({ type: null, message: '' });\n\n    try {\n      await removeQuoteTemplateItems({\n        templateId,\n        itemUids: uidsToRemove,\n      });\n      // Success is handled by the event listener\n    } catch (err) {\n      const errorMessage =\n        err instanceof Error ? err.message : removeErrorMessage;\n      setRemoveNotificationState({\n        type: 'error',\n        message: errorMessage,\n      });\n      setIsRemoving(false);\n    }\n  }, [templateId, itemsToRemove, removeErrorMessage]);\n\n  const handleCancelRemove = useCallback(() => {\n    setIsRemoveModalOpen(false);\n    setRemoveNotificationState({ type: null, message: '' });\n    onRemoveModalStateChange?.(false);\n    setItemsToRemove([]);\n  }, [onRemoveModalStateChange]);\n\n  return {\n    handleRemoveItems,\n    handleConfirmRemove,\n    handleCancelRemove,\n    isRemoveModalOpen,\n    itemsToRemove,\n    isRemoving,\n    removeNotificationState,\n  };\n};\n\n","/********************************************************************\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  Adobe permits you to use, modify, and distribute this \n * file in accordance with the terms of the Adobe license agreement \n * accompanying it. \n *******************************************************************/\n\nimport { useState, useCallback } from 'preact/compat';\nimport { CartItemModel } from '@/quote-management/data/models/negotiable-quote-model';\n\nexport interface UseItemsQuotedTemplateReturn {\n  dropdownSelections: Record<string, string | undefined>;\n  handleItemDropdownChange: (item: CartItemModel, action: string) => void;\n  handleDismissRemoveBanner: () => void;\n}\n\nexport interface UseItemsQuotedTemplateParams {\n  handleRemoveItems: (items: CartItemModel[]) => void;\n}\n\n/**\n * Custom hook to manage dropdown selections and item actions for quote template items\n */\nexport const useItemsQuotedTemplate = (\n  params: UseItemsQuotedTemplateParams\n): UseItemsQuotedTemplateReturn => {\n  const { handleRemoveItems } = params;\n\n  const [dropdownSelections, setDropdownSelections] = useState<\n    Record<string, string | undefined>\n  >({});\n\n  const handleDismissRemoveBanner = useCallback(() => {\n    // The hook manages its own notification state, but we can add custom dismiss logic if needed\n  }, []);\n\n  const handleItemDropdownChange = useCallback(\n    (item: CartItemModel, action: string) => {\n      const cartItem = item;\n\n      // Handle remove action\n      if (action === 'remove') {\n        setDropdownSelections((prev) => ({\n          ...prev,\n          [cartItem.uid || '']: action,\n        }));\n        handleRemoveItems([cartItem]);\n        // Reset dropdown immediately\n        setDropdownSelections((prev) => ({ ...prev, [cartItem.uid || '']: '' }));\n        return;\n      }\n\n      // Clear dropdown selection for other actions\n      setDropdownSelections((prev) => {\n        if (!cartItem.uid || !(cartItem.uid in prev)) {\n          return prev;\n        }\n        const next = { ...prev };\n        delete next[cartItem.uid];\n        return next;\n      });\n    },\n    [handleRemoveItems]\n  );\n\n  return {\n    dropdownSelections,\n    handleItemDropdownChange,\n    handleDismissRemoveBanner,\n  };\n};\n\n","/********************************************************************\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  Adobe permits you to use, modify, and distribute this \n * file in accordance with the terms of the Adobe license agreement \n * accompanying it. \n *******************************************************************/\n\nimport { useState, useEffect, useCallback } from 'preact/compat';\nimport { events } from '@adobe-commerce/event-bus';\nimport { updateQuoteTemplateItemQuantities } from '@/quote-management/api/updateQuoteTemplateItemQuantities';\nimport { CartItemModel } from '@/quote-management/data/models/negotiable-quote-model';\n\nconst NOTIFICATION_AUTO_DISMISS_DELAY = 3000;\n\nexport interface UseUpdateTemplateQuantitiesReturn {\n  quantityChanges: Record<string, number>;\n  handleQuantityChange: (item: CartItemModel, newQuantity: number) => void;\n  handleUpdate: (e: SubmitEvent) => void;\n  handleConfirmUpdate: () => Promise<void>;\n  handleCancelUpdate: () => void;\n  handleDismissBanner: () => void;\n  isUpdateModalOpen: boolean;\n  isUpdating: boolean;\n  updateNotificationState: {\n    type: 'success' | 'error' | null;\n    message: string;\n  };\n}\n\nexport interface UseUpdateTemplateQuantitiesParams {\n  templateId?: string;\n  onUpdateModalStateChange?: (isOpen: boolean) => void;\n  updateSuccessMessage: string;\n  updateErrorMessage: string;\n}\n\n/**\n * Custom hook to manage updating quantities of items in a quote template\n */\nexport const useUpdateTemplateQuantities = (\n  params: UseUpdateTemplateQuantitiesParams\n): UseUpdateTemplateQuantitiesReturn => {\n  const {\n    templateId,\n    onUpdateModalStateChange,\n    updateSuccessMessage,\n    updateErrorMessage,\n  } = params;\n\n  const [quantityChanges, setQuantityChanges] = useState<Record<string, number>>({});\n  const [isUpdateModalOpen, setIsUpdateModalOpen] = useState(false);\n  const [isUpdating, setIsUpdating] = useState(false);\n  const [updateNotificationState, setUpdateNotificationState] = useState<{\n    type: 'success' | 'error' | null;\n    message: string;\n  }>({ type: null, message: '' });\n\n  // Listen for quote template data event (successful update)\n  useEffect(() => {\n    const templateDataEvent = events.on(\n      'quote-management/quote-template-data',\n      () => {\n        setQuantityChanges({});\n        setIsUpdating(false);\n        setUpdateNotificationState({\n          type: 'success',\n          message: updateSuccessMessage,\n        });\n        // Auto-close success notification after delay\n        setTimeout(() => {\n          setIsUpdateModalOpen(false);\n          setUpdateNotificationState({ type: null, message: '' });\n          onUpdateModalStateChange?.(false);\n        }, NOTIFICATION_AUTO_DISMISS_DELAY);\n      }\n    );\n    return () => templateDataEvent?.off();\n  }, [updateSuccessMessage, onUpdateModalStateChange]);\n\n  const handleQuantityChange = useCallback(\n    (item: CartItemModel, newQuantity: number) => {\n      const cartItem = item;\n      if (!cartItem.uid) {\n        return;\n      }\n      const itemUid = cartItem.uid;\n      setQuantityChanges((prev) => ({\n        ...prev,\n        [itemUid]: newQuantity,\n      }));\n    },\n    []\n  );\n\n  const handleUpdate = useCallback((e: SubmitEvent) => {\n    e.preventDefault();\n    setUpdateNotificationState({ type: null, message: '' });\n    setIsUpdateModalOpen(true);\n  }, []);\n\n  const handleConfirmUpdate = useCallback(async () => {\n    if (!templateId || Object.keys(quantityChanges).length === 0) {\n      setIsUpdateModalOpen(false);\n      return;\n    }\n\n    setIsUpdating(true);\n    setUpdateNotificationState({ type: null, message: '' });\n\n    // Map quantity changes to API format\n    const items = Object.entries(quantityChanges).map(([itemId, quantity]) => ({\n      itemId,\n      quantity,\n    }));\n\n    try {\n      await updateQuoteTemplateItemQuantities({\n        templateId,\n        items,\n      });\n      // Success is handled by the event listener\n    } catch (err) {\n      const errorMessage =\n        err instanceof Error ? err.message : updateErrorMessage;\n      setUpdateNotificationState({\n        type: 'error',\n        message: errorMessage,\n      });\n      setIsUpdating(false);\n    }\n  }, [templateId, quantityChanges, updateErrorMessage]);\n\n  const handleCancelUpdate = useCallback(() => {\n    setIsUpdateModalOpen(false);\n    setUpdateNotificationState({ type: null, message: '' });\n    onUpdateModalStateChange?.(false);\n    setQuantityChanges({});\n  }, [onUpdateModalStateChange]);\n\n  const handleDismissBanner = useCallback(() => {\n    setUpdateNotificationState({ type: null, message: '' });\n  }, []);\n\n  return {\n    quantityChanges,\n    handleQuantityChange,\n    handleUpdate,\n    handleConfirmUpdate,\n    handleCancelUpdate,\n    handleDismissBanner,\n    isUpdateModalOpen,\n    isUpdating,\n    updateNotificationState,\n  };\n};\n\n","/********************************************************************\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  Adobe permits you to use, modify, and distribute this\n * file in accordance with the terms of the Adobe license agreement\n * accompanying it.\n *******************************************************************/\n\nimport {\n  HTMLAttributes,\n  useCallback,\n  useEffect,\n  useState,\n} from 'preact/compat';\nimport { Container, Slot, SlotProps } from '@adobe-commerce/elsie/lib';\nimport { events } from '@adobe-commerce/event-bus';\nimport { Price, InLineAlert } from '@adobe-commerce/elsie/components';\nimport { useText } from '@adobe-commerce/elsie/i18n';\nimport { CheckWithCircle, WarningFilled } from '@adobe-commerce/elsie/icons';\nimport {\n  NegotiableQuoteTemplateModel,\n} from '@/quote-management/data/models/negotiable-quote-template-model';\nimport { CartItemModel } from '@/quote-management/data/models/negotiable-quote-model';\nimport {\n  QuotePricesSummary,\n  ProductListTable,\n  ItemsQuoted as ItemsQuotedComponent,\n  ConfirmationModal,\n} from '@/quote-management/components';\nimport { LineItemNoteModal } from '@/quote-management/components/LineItemNoteModal';\nimport { addQuoteTemplateLineItemNote } from '@/quote-management/api';\nimport { useRemoveTemplateItems } from '@/quote-management/hooks/useRemoveTemplateItems';\nimport { useItemsQuotedTemplate } from '@/quote-management/hooks/useItemsQuotedTemplate';\nimport { useUpdateTemplateQuantities } from '@/quote-management/hooks/useUpdateTemplateQuantities';\n\nexport interface ItemsQuotedTemplateProps\n  extends HTMLAttributes<HTMLDivElement> {\n  templateData?: NegotiableQuoteTemplateModel;\n  slots?: {\n    ProductListTable?: SlotProps<{\n      items: NegotiableQuoteTemplateModel['items'];\n      canEdit: boolean;\n      dropdownSelections: Record<string, string | undefined>;\n      handleItemDropdownChange: (item: CartItemModel, action: string) => void;\n      handleQuantityChange: (item: CartItemModel, newQuantity: number) => void;\n      handleUpdate: (e: SubmitEvent) => void;\n      onItemDropdownChange?: (item: any, action: string) => void;\n    }>;\n    QuotePricesSummary?: SlotProps<{\n      items: NegotiableQuoteTemplateModel['items'];\n      prices: NegotiableQuoteTemplateModel['prices'];\n    }>;\n  };\n}\n\nexport const ItemsQuotedTemplate: Container<ItemsQuotedTemplateProps> = ({\n  templateData: initialData,\n  slots,\n  ...props\n}) => {\n  const [templateData, setTemplateData] = useState<\n    NegotiableQuoteTemplateModel | undefined\n  >(initialData);\n  const [selectedItem, setSelectedItem] =\n    useState<CartItemModel | null>(null);\n  const [isLineItemNoteModalOpen, setIsLineItemNoteModalOpen] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [modalErrorMessage, setModalErrorMessage] = useState('');\n  const [dropdownSelections, setDropdownSelections] = useState<\n    Record<string, string>\n  >({});\n\n  const dictionary = useText({\n    subtotal:\n      'NegotiableQuoteTemplate.Manage.quotePricesSummary.subtotal.excludingTax',\n    grandTotal:\n      'NegotiableQuoteTemplate.Manage.quotePricesSummary.grandTotal.includingTax',\n    appliedTaxes:\n      'NegotiableQuoteTemplate.Manage.quotePricesSummary.appliedTaxes',\n    removeModalTitle: 'NegotiableQuoteTemplate.Manage.removeItemsModal.title',\n    removeModalDescription: 'NegotiableQuoteTemplate.Manage.removeItemsModal.description',\n    removeModalCancelButton: 'NegotiableQuoteTemplate.Manage.removeItemsModal.cancelButton',\n    removeModalConfirmButton: 'NegotiableQuoteTemplate.Manage.removeItemsModal.confirmButton',\n    removeModalConfirmButtonRemoving: 'NegotiableQuoteTemplate.Manage.removeItemsModal.confirmButtonRemoving',\n    removeSuccessHeading: 'NegotiableQuoteTemplate.Manage.removeItemsModal.successHeading',\n    removeSuccessMessage: 'NegotiableQuoteTemplate.Manage.removeItemsModal.successMessage',\n    removeErrorHeading: 'NegotiableQuoteTemplate.Manage.removeItemsModal.errorHeading',\n    removeErrorMessage: 'NegotiableQuoteTemplate.Manage.removeItemsModal.errorMessage',\n    updateModalTitle: 'NegotiableQuoteTemplate.Manage.updateQuantitiesModal.title',\n    updateModalDescription: 'NegotiableQuoteTemplate.Manage.updateQuantitiesModal.description',\n    updateModalCancelButton: 'NegotiableQuoteTemplate.Manage.updateQuantitiesModal.cancelButton',\n    updateModalUpdateButton: 'NegotiableQuoteTemplate.Manage.updateQuantitiesModal.updateButton',\n    updateSuccessHeading: 'NegotiableQuoteTemplate.Manage.updateQuantitiesModal.successHeading',\n    updateSuccessMessage: 'NegotiableQuoteTemplate.Manage.updateQuantitiesModal.successMessage',\n    updateErrorHeading: 'NegotiableQuoteTemplate.Manage.updateQuantitiesModal.errorHeading',\n    updateErrorMessage: 'NegotiableQuoteTemplate.Manage.updateQuantitiesModal.errorMessage',\n    errorHeading:\n      'NegotiableQuoteTemplate.Manage.lineItemNoteModal.errorHeading',\n  });\n\n  // Use the remove template items hook\n  const {\n    handleRemoveItems,\n    handleConfirmRemove,\n    handleCancelRemove,\n    isRemoveModalOpen,\n    isRemoving,\n    removeNotificationState,\n  } = useRemoveTemplateItems({\n    templateId: templateData?.id,\n    removeSuccessMessage: dictionary.removeSuccessMessage,\n    removeErrorMessage: dictionary.removeErrorMessage,\n  });\n\n  // Use the items quoted template hook for dropdown and interaction logic\n  const {\n    dropdownSelections: hookDropdownSelections,\n    handleItemDropdownChange: hookHandleItemDropdownChange,\n    handleDismissRemoveBanner,\n  } = useItemsQuotedTemplate({\n    handleRemoveItems,\n  });\n\n  // Use the update template quantities hook\n  const {\n    handleQuantityChange,\n    handleUpdate,\n    handleConfirmUpdate,\n    handleCancelUpdate,\n    handleDismissBanner,\n    isUpdateModalOpen,\n    updateNotificationState,\n  } = useUpdateTemplateQuantities({\n    templateId: templateData?.id,\n    updateSuccessMessage: dictionary.updateSuccessMessage,\n    updateErrorMessage: dictionary.updateErrorMessage,\n  });\n\n  useEffect(() => {\n    const templateDataEvent = events.on(\n      'quote-management/quote-template-data',\n      (payload) => {\n        setTemplateData(payload.quoteTemplate);\n        setDropdownSelections({});\n      },\n      { eager: true }\n    );\n\n    return () => templateDataEvent?.off();\n  }, []);\n\n  // Combined handler for dropdown selection that handles both remove (via hook) and edit (for line item notes)\n  const handleItemDropdownChange = useCallback(\n    (item: CartItemModel, action: string) => {\n      const templateItem = item;\n      \n      // Handle edit action - open line item note modal\n      if (action === 'edit') {\n        setSelectedItem(templateItem);\n        setIsLineItemNoteModalOpen(true);\n        // Reset dropdown immediately\n        setDropdownSelections((prev) => ({\n          ...prev,\n          [templateItem.uid]: '',\n        }));\n        return;\n      }\n\n      // For remove and other actions, delegate to hook handler\n      hookHandleItemDropdownChange(item, action);\n    },\n    [hookHandleItemDropdownChange]\n  );\n\n  // Merge dropdown selections from hook and local state\n  const mergedDropdownSelections = { ...hookDropdownSelections, ...dropdownSelections };\n\n  // Handle modal close\n  const handleModalClose = useCallback(() => {\n    // Clean up dropdown selection for the selected item before clearing it\n    /* istanbul ignore else: defensive check - selectedItem should always be truthy when modal is open */\n    if (selectedItem) {\n      setDropdownSelections((prev) => {\n        const next = { ...prev };\n        delete next[selectedItem.uid];\n        return next;\n      });\n    }\n    setIsLineItemNoteModalOpen(false);\n    setSelectedItem(null);\n    setIsSubmitting(false);\n    setModalErrorMessage('');\n  }, [selectedItem]);\n\n  // Handle modal confirm - submit note only (quantity is read-only for templates)\n  const handleModalConfirm = useCallback(\n    async (note: string) => {\n      /* istanbul ignore next: defensive guard for async race conditions - unreachable in normal flow as modal only renders with selectedItem and templateData */\n      if (!selectedItem || !templateData) return;\n\n      setIsSubmitting(true);\n      setModalErrorMessage('');\n\n      try {\n        // Set the line item note\n        await addQuoteTemplateLineItemNote({\n          templateId: templateData.id,\n          itemId: selectedItem.uid,\n          note,\n        });\n\n        // Close modal on success\n        handleModalClose();\n      } catch (error) {\n        console.error('Failed to set template line item note:', error);\n        const errorMessage =\n          error instanceof Error\n            ? error.message\n            : 'Unable to update the item. Please try again.';\n        setModalErrorMessage(errorMessage);\n        setIsSubmitting(false);\n      }\n    },\n    [selectedItem, templateData, handleModalClose]\n  );\n\n  // Create remove confirmation banner based on notification state\n  const removeConfirmationBanner =\n    removeNotificationState.type === 'success' ? (\n      <InLineAlert\n        type=\"success\"\n        variant=\"primary\"\n        icon={<CheckWithCircle />}\n        heading={dictionary.removeSuccessHeading}\n        description={removeNotificationState.message}\n        onDismiss={handleDismissRemoveBanner}\n        data-testid=\"remove-items-success-banner\"\n      />\n    ) : removeNotificationState.type === 'error' ? (\n      <InLineAlert\n        type=\"error\"\n        variant=\"primary\"\n        icon={<WarningFilled />}\n        heading={dictionary.removeErrorHeading}\n        description={removeNotificationState.message}\n        onDismiss={handleDismissRemoveBanner}\n        data-testid=\"remove-items-error-banner\"\n      />\n    ) : null;\n\n  // Create update quantities confirmation banner based on notification state\n  const updateConfirmationBanner =\n    updateNotificationState.type === 'success' ? (\n      <InLineAlert\n        type=\"success\"\n        variant=\"primary\"\n        icon={<CheckWithCircle />}\n        heading={dictionary.updateSuccessHeading}\n        description={updateNotificationState.message}\n        onDismiss={handleDismissBanner}\n        data-testid=\"update-quantities-success-banner\"\n      />\n    ) : updateNotificationState.type === 'error' ? (\n      <InLineAlert\n        type=\"error\"\n        variant=\"primary\"\n        icon={<WarningFilled />}\n        heading={dictionary.updateErrorHeading}\n        description={updateNotificationState.message}\n        onDismiss={handleDismissBanner}\n        data-testid=\"update-quantities-error-banner\"\n      />\n    ) : null;\n\n  if (!templateData) {\n    return <ItemsQuotedComponent loading={true} />;\n  }\n\n  const removeConfirmationModalProps = isRemoveModalOpen ? {\n    open: true,\n    title: dictionary.removeModalTitle,\n    message: dictionary.removeModalDescription,\n    cancelLabel: dictionary.removeModalCancelButton,\n    confirmLabel: isRemoving\n      ? dictionary.removeModalConfirmButtonRemoving\n      : dictionary.removeModalConfirmButton,\n    onCancel: handleCancelRemove,\n    onConfirm: handleConfirmRemove,\n    confirmationBanner: removeConfirmationBanner,\n  } : null;\n\n  const updateConfirmationModalProps = isUpdateModalOpen ? {\n    open: true,\n    title: dictionary.updateModalTitle,\n    message: dictionary.updateModalDescription,\n    cancelLabel: dictionary.updateModalCancelButton,\n    confirmLabel: dictionary.updateModalUpdateButton,\n    onCancel: handleCancelUpdate,\n    onConfirm: handleConfirmUpdate,\n    confirmationBanner: updateConfirmationBanner,\n  } : null;\n\n  // Only define a single confirmation modal\n  const confirmationModalProps = removeConfirmationModalProps || updateConfirmationModalProps;\n\n  const quotePricesSummaryEntries = [];\n\n  templateData.prices.subtotalExcludingTax &&\n    quotePricesSummaryEntries.push({\n      label: dictionary.subtotal,\n      id: 'subtotal',\n      value: (\n        <Price\n          amount={templateData.prices.subtotalExcludingTax.value}\n          currency={templateData.prices.subtotalExcludingTax.currency}\n          weight=\"normal\"\n        />\n      ),\n    });\n\n  templateData.prices.grandTotal &&\n    quotePricesSummaryEntries.push({\n      label: dictionary.grandTotal,\n      id: 'total',\n      value: (\n        <Price\n          amount={templateData.prices.grandTotal.value}\n          currency={templateData.prices.grandTotal.currency}\n        />\n      ),\n      strong: true,\n    });\n\n  // Create modal error banner\n  const modalErrorBanner = modalErrorMessage ? (\n    <InLineAlert\n      type=\"error\"\n      variant=\"primary\"\n      icon={<WarningFilled />}\n      heading={dictionary.errorHeading}\n      description={modalErrorMessage}\n      onDismiss={() => setModalErrorMessage('')}\n      data-testid=\"line-item-note-error-banner\"\n    />\n  ) : null;\n\n  return (\n    <>\n      <ItemsQuotedComponent\n        data-testid=\"items-quoted-template-container\"\n        {...props}\n        loading={false}\n        table={\n          <Slot\n            name=\"ProductListTable\"\n            slot={slots?.ProductListTable}\n            context={{\n              items: templateData.items,\n              canEdit: templateData.canSendForReview,\n              dropdownSelections: mergedDropdownSelections,\n              handleItemDropdownChange,\n              handleQuantityChange,\n              handleUpdate,\n            }}\n          >\n            <ProductListTable\n              items={templateData.items}\n              canEdit={templateData.canSendForReview}\n              showActions={templateData.canEditTemplateItems}\n              onItemDropdownChange={handleItemDropdownChange}\n              onQuantityChange={handleQuantityChange}\n              onUpdate={handleUpdate}\n              dropdownSelections={mergedDropdownSelections}\n            />\n          </Slot>\n        }\n        pricesSummary={\n          <Slot\n            name=\"QuotePricesSummary\"\n            slot={slots?.QuotePricesSummary}\n            context={{\n              items: templateData.items,\n              prices: templateData.prices,\n            }}\n          >\n            <QuotePricesSummary entries={quotePricesSummaryEntries} />\n          </Slot>\n        }\n      />\n      {/* Confirmation Modal for remove/update */}\n      {confirmationModalProps && (\n        <ConfirmationModal\n          {...confirmationModalProps}\n        />\n      )}\n      {/* Line Item Note Modal */}\n      {selectedItem && (\n        <LineItemNoteModal\n          open={isLineItemNoteModalOpen}\n          item={selectedItem as any}\n          onClose={handleModalClose}\n          onConfirm={handleModalConfirm}\n          isSubmitting={isSubmitting}\n          readOnlyQuantity={true}\n          errorBanner={modalErrorBanner || undefined}\n        />\n      )}\n    </>\n  );\n};\n"],"names":["NOTIFICATION_AUTO_DISMISS_DELAY","useRemoveTemplateItems","params","templateId","onRemoveModalStateChange","removeSuccessMessage","removeErrorMessage","isRemoveModalOpen","setIsRemoveModalOpen","useState","itemsToRemove","setItemsToRemove","isRemoving","setIsRemoving","removeNotificationState","setRemoveNotificationState","useEffect","templateDataEvent","events","handleRemoveItems","useCallback","items","handleConfirmRemove","uidsToRemove","item","removeQuoteTemplateItems","err","errorMessage","handleCancelRemove","useItemsQuotedTemplate","dropdownSelections","setDropdownSelections","handleDismissRemoveBanner","handleItemDropdownChange","action","cartItem","prev","next","useUpdateTemplateQuantities","onUpdateModalStateChange","updateSuccessMessage","updateErrorMessage","quantityChanges","setQuantityChanges","isUpdateModalOpen","setIsUpdateModalOpen","isUpdating","setIsUpdating","updateNotificationState","setUpdateNotificationState","handleQuantityChange","newQuantity","itemUid","handleUpdate","e","handleConfirmUpdate","itemId","quantity","updateQuoteTemplateItemQuantities","handleCancelUpdate","handleDismissBanner","ItemsQuotedTemplate","initialData","slots","props","templateData","setTemplateData","selectedItem","setSelectedItem","isLineItemNoteModalOpen","setIsLineItemNoteModalOpen","isSubmitting","setIsSubmitting","modalErrorMessage","setModalErrorMessage","dictionary","useText","hookDropdownSelections","hookHandleItemDropdownChange","payload","templateItem","mergedDropdownSelections","handleModalClose","handleModalConfirm","note","addQuoteTemplateLineItemNote","error","removeConfirmationBanner","jsx","InLineAlert","CheckWithCircle","WarningFilled","updateConfirmationBanner","ItemsQuotedComponent","removeConfirmationModalProps","updateConfirmationModalProps","confirmationModalProps","quotePricesSummaryEntries","Price","modalErrorBanner","jsxs","Fragment","Slot","ProductListTable","QuotePricesSummary","ConfirmationModal","LineItemNoteModal"],"mappings":"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"}