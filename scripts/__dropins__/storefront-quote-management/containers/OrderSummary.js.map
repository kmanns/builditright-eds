{"version":3,"file":"OrderSummary.js","sources":["../../node_modules/@adobe-commerce/elsie/src/icons/ChevronUp.svg","../../node_modules/@adobe-commerce/elsie/src/icons/Coupon.svg","/@dropins/storefront-quote-management/src/components/OrderSummary/OrderSummary.tsx","/@dropins/storefront-quote-management/src/containers/OrderSummary/OrderSummary.tsx"],"sourcesContent":["import * as React from \"react\";\nconst SvgChevronUp = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { d: \"M7.74512 14.132L12.0001 9.87701L16.2551 14.132\", stroke: \"currentColor\", strokeWidth: 1, strokeLinecap: \"square\", strokeLinejoin: \"round\" }));\nexport default SvgChevronUp;\n","import * as React from \"react\";\nconst SvgCoupon = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", d: \"M22 6.25H22.75C22.75 5.83579 22.4142 5.5 22 5.5V6.25ZM22 9.27L22.2514 9.97663C22.5503 9.87029 22.75 9.58731 22.75 9.27H22ZM20.26 12.92L19.5534 13.1714L19.5539 13.1728L20.26 12.92ZM22 14.66H22.75C22.75 14.3433 22.551 14.0607 22.2528 13.9539L22 14.66ZM22 17.68V18.43C22.4142 18.43 22.75 18.0942 22.75 17.68H22ZM2 17.68H1.25C1.25 18.0942 1.58579 18.43 2 18.43V17.68ZM2 14.66L1.74865 13.9534C1.44969 14.0597 1.25 14.3427 1.25 14.66H2ZM3.74 11.01L4.44663 10.7586L4.44611 10.7572L3.74 11.01ZM2 9.27H1.25C1.25 9.58675 1.44899 9.86934 1.7472 9.97611L2 9.27ZM2 6.25V5.5C1.58579 5.5 1.25 5.83579 1.25 6.25H2ZM21.25 6.25V9.27H22.75V6.25H21.25ZM21.7486 8.56337C19.8706 9.23141 18.8838 11.2889 19.5534 13.1714L20.9666 12.6686C20.5762 11.5711 21.1494 10.3686 22.2514 9.97663L21.7486 8.56337ZM19.5539 13.1728C19.9195 14.1941 20.7259 15.0005 21.7472 15.3661L22.2528 13.9539C21.6541 13.7395 21.1805 13.2659 20.9661 12.6672L19.5539 13.1728ZM21.25 14.66V17.68H22.75V14.66H21.25ZM22 16.93H2V18.43H22V16.93ZM2.75 17.68V14.66H1.25V17.68H2.75ZM2.25135 15.3666C4.12941 14.6986 5.11623 12.6411 4.44663 10.7586L3.03337 11.2614C3.42377 12.3589 2.85059 13.5614 1.74865 13.9534L2.25135 15.3666ZM4.44611 10.7572C4.08045 9.73588 3.27412 8.92955 2.2528 8.56389L1.7472 9.97611C2.34588 10.1905 2.81955 10.6641 3.03389 11.2628L4.44611 10.7572ZM2.75 9.27V6.25H1.25V9.27H2.75ZM2 7H22V5.5H2V7ZM7.31 6.74V18.17H8.81V6.74H7.31ZM17.0997 8.39967L11.0397 14.4597L12.1003 15.5203L18.1603 9.46033L17.0997 8.39967ZM12.57 9.67C12.57 9.87231 12.4159 10 12.27 10V11.5C13.2839 11.5 14.07 10.6606 14.07 9.67H12.57ZM12.27 10C12.1241 10 11.97 9.87231 11.97 9.67H10.47C10.47 10.6606 11.2561 11.5 12.27 11.5V10ZM11.97 9.67C11.97 9.46769 12.1241 9.34 12.27 9.34V7.84C11.2561 7.84 10.47 8.67938 10.47 9.67H11.97ZM12.27 9.34C12.4159 9.34 12.57 9.46769 12.57 9.67H14.07C14.07 8.67938 13.2839 7.84 12.27 7.84V9.34ZM17.22 14.32C17.22 14.5223 17.0659 14.65 16.92 14.65V16.15C17.9339 16.15 18.72 15.3106 18.72 14.32H17.22ZM16.92 14.65C16.7741 14.65 16.62 14.5223 16.62 14.32H15.12C15.12 15.3106 15.9061 16.15 16.92 16.15V14.65ZM16.62 14.32C16.62 14.1177 16.7741 13.99 16.92 13.99V12.49C15.9061 12.49 15.12 13.3294 15.12 14.32H16.62ZM16.92 13.99C17.0659 13.99 17.22 14.1177 17.22 14.32H18.72C18.72 13.3294 17.9339 12.49 16.92 12.49V13.99Z\", fill: \"currentColor\" }));\nexport default SvgCoupon;\n","/********************************************************************\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  Adobe permits you to use, modify, and distribute this\n * file in accordance with the terms of the Adobe license agreement\n * accompanying it.\n *******************************************************************/\n\nimport '@/quote-management/components/OrderSummary/OrderSummary.css';\nimport { OrderSummaryLine } from '@/quote-management/containers/OrderSummaryLine/OrderSummaryLine';\nimport {\n  Accordion,\n  AccordionSection,\n  Divider,\n} from '@adobe-commerce/elsie/components';\nimport { useText } from '@adobe-commerce/elsie/i18n';\nimport { ChevronDown, ChevronUp } from '@adobe-commerce/elsie/icons';\nimport { classes, VComponent } from '@adobe-commerce/elsie/lib';\nimport { FunctionComponent, VNode } from 'preact';\nimport { HTMLAttributes, useState } from 'preact/compat';\nimport { JSXInternal } from 'preact/src/jsx';\n\nexport interface OrderSummaryLineItem {\n  key: string;\n  title?: string;\n  className?: string;\n  sortOrder: number;\n  content:\n    | string\n    | JSXInternal.Element\n    | VNode<HTMLAttributes<HTMLDivElement>>\n    | OrderSummaryLineItem[]\n    | undefined;\n}\n\nexport interface OrderSummaryProps extends HTMLAttributes<HTMLDivElement> {\n  variant?: 'primary' | 'secondary';\n  heading?: VNode<HTMLAttributes<HTMLDivElement>>;\n  subTotal?: {\n    price: VNode<HTMLAttributes<HTMLSpanElement>>;\n    priceExcludingTax?: VNode<HTMLAttributes<HTMLSpanElement>>;\n    taxIncluded?: boolean;\n    taxExcluded?: boolean;\n  };\n  shipping?: {\n    price: VNode<HTMLAttributes<HTMLSpanElement>>;\n    priceExcludingTax?: VNode<HTMLAttributes<HTMLSpanElement>>;\n    taxIncluded?: boolean;\n    taxExcluded?: boolean;\n  };\n  discounts?: {\n    label: string;\n    price: VNode<HTMLAttributes<HTMLSpanElement>>;\n    caption?: VNode<HTMLAttributes<HTMLDivElement>>;\n    coupon?: VNode<HTMLAttributes<HTMLSpanElement>>;\n  }[];\n  taxTotal?: {\n    price: VNode<HTMLAttributes<HTMLSpanElement>>;\n  };\n  taxesApplied?: {\n    label: string;\n    price: VNode<HTMLAttributes<HTMLSpanElement>>;\n  }[];\n  total?: {\n    price: VNode<HTMLAttributes<HTMLSpanElement>>;\n    priceWithoutTax?: VNode<HTMLAttributes<HTMLSpanElement>>;\n  };\n  totalSaved?: VNode<HTMLAttributes<HTMLSpanElement>>;\n  updateLineItems?: (\n    lineItems: Array<OrderSummaryLineItem>\n  ) => Array<OrderSummaryLineItem>;\n}\n\nexport const OrderSummary: FunctionComponent<OrderSummaryProps> = ({\n  className,\n  children,\n  variant = 'primary',\n  heading,\n  subTotal,\n  shipping,\n  discounts,\n  taxTotal,\n  taxesApplied,\n  total,\n  totalSaved,\n  updateLineItems = (lineItems) => lineItems,\n  ...props\n}) => {\n  const [showTaxBreakdown, setShowTaxBreakdown] = useState(false);\n\n  const translations = useText({\n    // Taxes\n    taxesBreakdownTitle: 'NegotiableQuote.PriceSummary.taxes.breakdown',\n    taxTotal: 'NegotiableQuote.PriceSummary.taxes.total',\n    taxTotalOnly: 'NegotiableQuote.PriceSummary.taxes.totalOnly',\n    showTaxBreakdown: 'NegotiableQuote.PriceSummary.taxes.showBreakdown',\n    hideTaxBreakdown: 'NegotiableQuote.PriceSummary.taxes.hideBreakdown',\n\n    // Subtotal\n    subtotalLabel: 'NegotiableQuote.PriceSummary.subTotal.label',\n    subtotalWithTaxes: 'NegotiableQuote.PriceSummary.subTotal.withTaxes',\n    subtotalWithoutTaxes: 'NegotiableQuote.PriceSummary.subTotal.withoutTaxes',\n\n    // Shipping\n    shippingLabel: 'NegotiableQuote.PriceSummary.shipping.label',\n    shippingWithTaxes: 'NegotiableQuote.PriceSummary.shipping.withTaxes',\n    shippingWithoutTaxes: 'NegotiableQuote.PriceSummary.shipping.withoutTaxes',\n\n    // Total\n    totalLabel: 'NegotiableQuote.PriceSummary.total.label',\n    totalWithoutTax: 'NegotiableQuote.PriceSummary.total.withoutTax',\n    totalSaved: 'NegotiableQuote.PriceSummary.total.saved',\n  });\n\n  const subTotalContent = subTotal && (\n    <OrderSummaryLine\n      key={translations.subtotalLabel}\n      label={translations.subtotalLabel}\n      price={subTotal.price}\n      classSuffixes={['subTotal']}\n    >\n      {subTotal.taxIncluded && (\n        <div\n          data-testid=\"sub-total-tax-caption\"\n          className=\"quote-order-summary__caption\"\n        >\n          <span>{translations.subtotalWithTaxes}</span>\n        </div>\n      )}\n\n      {subTotal.taxExcluded ? (\n        <div\n          data-testid=\"sub-total-tax-caption-excluded\"\n          className=\"quote-order-summary__caption\"\n        >\n          <span>\n            {subTotal.priceExcludingTax}\n            &nbsp;\n            {translations.subtotalWithoutTaxes}\n          </span>\n        </div>\n      ) : undefined}\n    </OrderSummaryLine>\n  );\n\n  const shippingContent = shipping && (\n    <OrderSummaryLine\n      key={translations.shippingLabel}\n      label={translations.shippingLabel}\n      price={shipping.price}\n      classSuffixes={['shipping']}\n    >\n      {shipping.taxIncluded && (\n        <div\n          data-testid=\"shipping-tax-caption\"\n          className=\"quote-order-summary__caption\"\n        >\n          <span>{translations.shippingWithTaxes}</span>\n        </div>\n      )}\n\n      {shipping.taxExcluded ? (\n        <div\n          data-testid=\"shipping-tax-caption-excluded\"\n          className=\"quote-order-summary__caption\"\n        >\n          <span>\n            {shipping.priceExcludingTax}\n            &nbsp;\n            {translations.shippingWithoutTaxes}\n          </span>\n        </div>\n      ) : undefined}\n    </OrderSummaryLine>\n  );\n\n  const discountsContent = discounts && discounts.length > 0 && (\n    <>\n      {discounts.map((discount) => (\n        <OrderSummaryLine\n          key={discount.label}\n          label={discount.label}\n          price={discount.price}\n          classSuffixes={['discount']}\n        >\n          {discount.coupon && (\n            <VComponent\n              node={discount.coupon}\n              className=\"quote-order-summary__coupon__code\"\n            />\n          )}\n\n          {discount.caption && (\n            <VComponent\n              node={discount.caption}\n              className=\"quote-order-summary__caption\"\n            />\n          )}\n        </OrderSummaryLine>\n      ))}\n    </>\n  );\n\n  const taxContent =\n    taxesApplied && taxesApplied.length > 0 ? (\n      /* Show breakdown if provided */\n      <Accordion\n        data-testid=\"tax-breakdown\"\n        className=\"quote-order-summary__taxes\"\n        iconOpen={ChevronDown}\n        iconClose={ChevronUp}\n      >\n        <AccordionSection\n          ariaLabelTitle={translations.taxesBreakdownTitle}\n          title={translations.taxesBreakdownTitle}\n          secondaryText={\n            !showTaxBreakdown && taxTotal ? (\n              <VComponent\n                node={taxTotal.price}\n                className=\"quote-order-summary__price\"\n              />\n            ) : undefined\n          }\n          renderContentWhenClosed={false}\n          onStateChange={setShowTaxBreakdown}\n        >\n          <div className=\"quote-order-summary__appliedTaxes\">\n            {taxesApplied.map((tax) => (\n              <OrderSummaryLine\n                key={tax.label}\n                label={tax.label}\n                price={tax.price}\n                classSuffixes={['taxEntry']}\n                labelClassSuffix=\"muted\"\n              />\n            ))}\n          </div>\n\n          {taxTotal && (\n            <OrderSummaryLine\n              label={translations.taxTotal}\n              price={taxTotal.price}\n              classSuffixes={['taxTotal']}\n              labelClassSuffix=\"muted\"\n            />\n          )}\n        </AccordionSection>\n      </Accordion>\n    ) : (\n      taxTotal && (\n        <OrderSummaryLine\n          label={translations.taxTotalOnly}\n          price={taxTotal.price}\n          classSuffixes={['taxTotal']}\n          testId=\"tax-total-only\"\n        />\n      )\n    );\n\n  const lineItems: Array<OrderSummaryLineItem> = [\n    {\n      key: 'subTotalContent',\n      sortOrder: 100,\n      content: subTotalContent,\n    },\n    {\n      key: 'shippingContent',\n      sortOrder: 200,\n      content: shippingContent,\n    },\n    {\n      key: 'discountsContent',\n      sortOrder: 600,\n      content: discountsContent,\n    },\n    {\n      key: 'taxContent',\n      sortOrder: 800,\n      content: taxContent,\n    },\n    ...(total\n      ? [\n          {\n            key: 'totalContent',\n            sortOrder: 900,\n            content: (\n              <OrderSummaryLine\n                label={translations.totalLabel}\n                price={total.price}\n                classSuffixes={['total', 'total--padded']}\n                testId=\"total-content\"\n                labelClassSuffix=\"bold\"\n              />\n            ),\n          },\n        ]\n      : []),\n    ...(total?.priceWithoutTax\n      ? [\n          {\n            key: 'totalWithoutTaxContent',\n            sortOrder: 1000,\n            content: (\n              <OrderSummaryLine\n                label={translations.totalWithoutTax}\n                price={total.priceWithoutTax}\n                classSuffixes={['totalWithoutTax']}\n                testId=\"total-without-tax\"\n                labelClassSuffix=\"muted\"\n              />\n            ),\n          },\n        ]\n      : []),\n    ...(totalSaved\n      ? [\n          {\n            key: 'totalSavedContent',\n            sortOrder: 1100,\n            content: (\n              <OrderSummaryLine\n                label={translations.totalSaved}\n                price={totalSaved}\n                classSuffixes={['saved']}\n                testId=\"total-saved\"\n                labelClassSuffix=\"muted\"\n              />\n            ),\n          },\n        ]\n      : []),\n  ];\n\n  const updatedLineItems: Array<OrderSummaryLineItem> = updateLineItems(\n    lineItems\n  ).sort(\n    (currentLine: OrderSummaryLineItem, nextLine: OrderSummaryLineItem) => {\n      return currentLine.sortOrder - nextLine.sortOrder;\n    }\n  );\n\n  return (\n    <div\n      {...props}\n      className={classes([\n        'quote-order-summary',\n        [`quote-order-summary__${variant}`, variant],\n        className,\n      ])}\n    >\n      <div className=\"quote-order-summary__heading\">\n        {heading && (\n          <VComponent\n            node={heading}\n            className=\"quote-order-summary__heading-text\"\n          />\n        )}\n\n        <Divider\n          variant=\"primary\"\n          className=\"quote-order-summary__divider-primary\"\n        />\n      </div>\n\n      <div className=\"quote-order-summary__content\">\n        {updatedLineItems.map((line: OrderSummaryLineItem) => {\n          if (Array.isArray(line.content)) {\n            return (\n              <Accordion\n                key={line.key}\n                className={line.className}\n                actionIconPosition={'right'}\n                iconOpen={ChevronDown}\n                iconClose={ChevronUp}\n              >\n                <AccordionSection\n                  defaultOpen={false}\n                  title={line.title}\n                  renderContentWhenClosed={false}\n                >\n                  {line.content.map((innerLine) => {\n                    return innerLine.content;\n                  })}\n                </AccordionSection>\n              </Accordion>\n            );\n          }\n          return line.content;\n        })}\n      </div>\n    </div>\n  );\n};\n","/********************************************************************\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  Adobe permits you to use, modify, and distribute this\n * file in accordance with the terms of the Adobe license agreement\n * accompanying it.\n *******************************************************************/\n\nimport {\n  OrderSummary as OrderSummaryComponent,\n  OrderSummaryLineItem,\n} from '@/quote-management/components';\nimport {\n  NegotiableQuoteModel,\n  QuoteDisplayAmount,\n} from '@/quote-management/data/models';\nimport { state } from '@/quote-management/lib/state';\nimport { Icon, Price } from '@adobe-commerce/elsie/components';\nimport { useText } from '@adobe-commerce/elsie/i18n';\nimport { Coupon } from '@adobe-commerce/elsie/icons';\nimport { Container } from '@adobe-commerce/elsie/lib';\nimport { events } from '@adobe-commerce/event-bus';\nimport { HTMLAttributes, useEffect, useState } from 'preact/compat';\n\nexport interface OrderSummaryProps extends HTMLAttributes<HTMLDivElement> {\n  showTotalSaved?: boolean;\n  updateLineItems?: (\n    lineItems: Array<OrderSummaryLineItem>\n  ) => Array<OrderSummaryLineItem>;\n}\n\nexport const OrderSummary: Container<\n  OrderSummaryProps,\n  NegotiableQuoteModel | null\n> = ({\n  children,\n  initialData = null,\n  showTotalSaved,\n  updateLineItems = (lineItems) => lineItems,\n  ...props\n}) => {\n  const [data, setData] = useState<NegotiableQuoteModel | null>(initialData);\n  const isVirtual = data?.isVirtual;\n\n  const { quoteDisplaySettings } = state.config;\n\n  const isZeroTax = Boolean(quoteDisplaySettings?.zeroTax);\n\n  const isTaxIncludedInSubtotal =\n    quoteDisplaySettings?.subtotal === QuoteDisplayAmount.TAX_INCLUDED;\n  const isTaxIncludedAndExcludedInSubtotal =\n    quoteDisplaySettings?.subtotal ===\n    QuoteDisplayAmount.TAX_INCLUDED_AND_EXCLUDED;\n\n  const isTaxIncludedInShipping =\n    quoteDisplaySettings?.shipping === QuoteDisplayAmount.TAX_INCLUDED;\n  const isTaxIncludedAndExcludedInShipping =\n    quoteDisplaySettings?.shipping ===\n    QuoteDisplayAmount.TAX_INCLUDED_AND_EXCLUDED;\n\n  useEffect(() => {\n    const dataEvent = events.on(\n      'quote-management/quote-data',\n      (payload) => {\n        setData(payload.quote as NegotiableQuoteModel);\n      },\n      { eager: true }\n    );\n\n    return () => {\n      dataEvent?.off();\n    };\n  }, []);\n\n  const translations = useText({\n    free: 'NegotiableQuote.PriceSummary.total.free',\n    orderSummary: 'NegotiableQuote.PriceSummary.orderSummary',\n    taxToBeDetermined: 'NegotiableQuote.PriceSummary.taxToBeDetermined',\n  });\n\n  if (!Object.keys(data ?? {}).length) {\n    return null;\n  }\n\n  return (\n    <OrderSummaryComponent\n      {...props}\n      data-testid=\"quote-order-summary\"\n      heading={<div>{translations.orderSummary}</div>}\n      updateLineItems={updateLineItems}\n      subTotal={{\n        taxIncluded: isTaxIncludedInSubtotal && !isZeroTax,\n        taxExcluded: isTaxIncludedAndExcludedInSubtotal,\n        priceExcludingTax: (\n          <Price\n            data-testid=\"subtotal\"\n            amount={data?.prices?.subtotalExcludingTax?.value}\n            currency={data?.prices?.subtotalExcludingTax?.currency}\n          />\n        ),\n        price:\n          (!isZeroTax && isTaxIncludedInSubtotal) ||\n          (!isZeroTax && isTaxIncludedAndExcludedInSubtotal) ? (\n            <Price\n              data-testid=\"subtotal\"\n              amount={data?.prices?.subtotalIncludingTax?.value}\n              currency={data?.prices?.subtotalIncludingTax?.currency}\n            />\n          ) : (\n            <Price\n              data-testid=\"subtotal\"\n              amount={data?.prices?.subtotalExcludingTax?.value}\n              currency={data?.prices?.subtotalExcludingTax?.currency}\n            />\n          ),\n      }}\n      shipping={{\n        taxIncluded: isTaxIncludedInShipping && !isZeroTax,\n        taxExcluded: isTaxIncludedAndExcludedInShipping,\n        priceExcludingTax: (\n          <Price\n            data-testid=\"shipping\"\n            amount={data?.prices?.shippingExcludingTax?.value}\n            currency={data?.prices?.shippingExcludingTax?.currency}\n          />\n        ),\n        price:\n          (!isZeroTax && isTaxIncludedInShipping) ||\n          (!isZeroTax && isTaxIncludedAndExcludedInShipping) ? (\n            <Price\n              data-testid=\"shipping\"\n              amount={data?.prices?.shippingIncludingTax?.value}\n              currency={data?.prices?.shippingIncludingTax?.currency}\n            />\n          ) : (\n            <Price\n              data-testid=\"shipping\"\n              amount={data?.prices?.shippingExcludingTax?.value}\n              currency={data?.prices?.shippingExcludingTax?.currency}\n            />\n          ),\n      }}\n      discounts={data?.prices?.appliedDiscounts?.map((discount) => {\n        return {\n          label: discount.label,\n          price: (\n            <Price\n              data-testid=\"summary-discount-total\"\n              amount={-discount.amount.value}\n              currency={discount.amount.currency}\n              sale={true}\n            />\n          ),\n          coupon: discount?.coupon ? (\n            <span>\n              <Icon source={Coupon} size=\"16\" />\n              {discount?.coupon?.code}\n            </span>\n          ) : undefined,\n        };\n      })}\n      taxTotal={\n        isVirtual && !data?.prices?.appliedTaxes?.length\n          ? {\n              price: (\n                <span data-testid=\"tax-total-tbd\">\n                  {translations.taxToBeDetermined}\n                </span>\n              ),\n            }\n          : {\n              price: (\n                <Price\n                  data-testid=\"tax-total-actual\"\n                  amount={data?.prices?.totalTax?.value}\n                  currency={data?.prices?.totalTax?.currency}\n                />\n              ),\n            }\n      }\n      taxesApplied={\n        isVirtual\n          ? undefined\n          : quoteDisplaySettings?.fullSummary\n          ? data?.prices?.appliedTaxes?.map((tax: any) => ({\n              label: tax.label,\n              price: (\n                <Price\n                  data-testid=\"applied-taxes\"\n                  amount={tax.amount.value}\n                  currency={tax.amount.currency}\n                />\n              ),\n            }))\n          : undefined\n      }\n      total={{\n        price:\n          data?.prices?.grandTotal?.value === 0 ? (\n            <span data-testid=\"total-including-tax\">{translations.free}</span>\n          ) : (\n            <Price\n              data-testid=\"total-including-tax-actual\"\n              amount={data?.prices?.grandTotal?.value}\n              currency={data?.prices?.grandTotal?.currency}\n            />\n          ),\n        priceWithoutTax: quoteDisplaySettings?.grandTotal ? (\n          data?.prices?.grandTotalExcludingTax?.value === 0 ? (\n            <span data-testid=\"total-excluding-tax\">{translations.free}</span>\n          ) : (\n            <Price\n              data-testid=\"total-excluding-tax\"\n              amount={data?.prices?.grandTotalExcludingTax?.value}\n              currency={data?.prices?.grandTotalExcludingTax?.currency}\n            />\n          )\n        ) : undefined,\n      }}\n      totalSaved={\n        showTotalSaved ? (\n          <Price\n            amount={data?.prices?.discount?.value}\n            currency={data?.prices?.grandTotal?.currency}\n          />\n        ) : undefined\n      }\n    />\n  );\n};\n"],"names":["SvgChevronUp","props","React","SvgCoupon","OrderSummary","className","children","variant","heading","subTotal","shipping","discounts","taxTotal","taxesApplied","total","totalSaved","updateLineItems","lineItems","showTaxBreakdown","setShowTaxBreakdown","useState","translations","useText","subTotalContent","jsxs","OrderSummaryLine","jsx","shippingContent","discountsContent","Fragment","discount","VComponent","taxContent","Accordion","ChevronDown","ChevronUp","AccordionSection","tax","updatedLineItems","currentLine","nextLine","classes","Divider","line","innerLine","initialData","showTotalSaved","data","setData","isVirtual","quoteDisplaySettings","state","isZeroTax","isTaxIncludedInSubtotal","QuoteDisplayAmount","isTaxIncludedAndExcludedInSubtotal","isTaxIncludedInShipping","isTaxIncludedAndExcludedInShipping","useEffect","dataEvent","events","payload","OrderSummaryComponent","Price","_b","_a","_d","_c","_f","_e","_h","_g","_j","_i","_l","_k","_n","_m","_p","_o","_r","_q","_t","_s","_v","_u","_x","_w","_z","_y","Icon","Coupon","_B","_A","_D","_C","_F","_E","_H","_G","_J","_I","_L","_K","_N","_M","_P","_O","_R","_Q","_T","_S","_V","_U","_X","_W"],"mappings":"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","x_google_ignoreList":[0,1]}