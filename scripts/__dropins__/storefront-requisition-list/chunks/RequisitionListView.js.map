{"version":3,"file":"RequisitionListView.js","sources":["/@dropins/storefront-requisition-list/src/hooks/useRequisitionListEnabled.ts","../../node_modules/@adobe-commerce/elsie/src/icons/List.svg","/@dropins/storefront-requisition-list/src/hooks/useRequisitionListAlert.tsx","/@dropins/storefront-requisition-list/src/components/EmptyList/EmptyList.tsx"],"sourcesContent":["/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { useEffect, useState } from 'preact/compat';\nimport { state } from '@/requisitionList/lib/state';\nimport { events } from '@adobe-commerce/event-bus';\n\nexport const useRequisitionListEnabled = () => {\n  const [isEnabled, setIsEnabled] = useState<boolean>(\n    state.config?.is_requisition_list_active === '1' &&\n      state.config?.company_enabled === true\n  );\n\n  useEffect(() => {\n    // Listen for requisition list initialization via event bus\n    const configListener = events.on('requisitionList/initialized', () => {\n      setIsEnabled(\n        state.config?.is_requisition_list_active === '1' &&\n          state.config?.company_enabled === true\n      );\n    });\n\n    return () => configListener?.off();\n  }, []);\n\n  return { isEnabled };\n};\n","import * as React from \"react\";\nconst SvgList = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"rect\", { x: 4.89282, y: 2.75, width: 14.2143, height: 18.5, rx: 2.25, stroke: \"currentColor\", strokeWidth: 1 }), /* @__PURE__ */ React.createElement(\"line\", { x1: 9.85718, y1: 7.67871, x2: 16.2857, y2: 7.67871, stroke: \"currentColor\", strokeWidth: 1 }), /* @__PURE__ */ React.createElement(\"line\", { x1: 9.85718, y1: 11.9644, x2: 16.2857, y2: 11.9644, stroke: \"currentColor\", strokeWidth: 1 }), /* @__PURE__ */ React.createElement(\"line\", { x1: 9.85718, y1: 16.25, x2: 16.2857, y2: 16.25, stroke: \"currentColor\", strokeWidth: 1 }), /* @__PURE__ */ React.createElement(\"circle\", { cx: 7.71429, cy: 7.71429, r: 0.714286, fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"circle\", { cx: 7.71429, cy: 11.9999, r: 0.714286, fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"circle\", { cx: 7.71429, cy: 16.2856, r: 0.714286, fill: \"currentColor\" }));\nexport default SvgList;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { useCallback, useMemo, useState } from 'preact/compat';\nimport { RequisitionListActionPayload } from 'adobe-commerce/event-bus';\nimport { useText } from '@adobe-commerce/elsie/i18n';\n\nexport interface Alert {\n  type: string;\n  description: string;\n  action?: string;\n  sku?: string;\n}\n\nexport function useRequisitionListAlert(\n  translationsOverride?: Record<string, string>\n) {\n  const [alert, setAlert] = useState<Alert | null>(null);\n\n  const defaultTranslations = useText({\n    errorCreate: `RequisitionList.RequisitionListAlert.errorCreate`,\n    successCreate: `RequisitionList.RequisitionListAlert.successCreate`,\n    errorDeleteItem: `RequisitionList.RequisitionListAlert.errorDeleteItem`,\n    successDeleteItem: `RequisitionList.RequisitionListAlert.successDeleteItem`,\n    errorDeleteReqList: `RequisitionList.RequisitionListAlert.errorDeleteReqList`,\n    successDeleteReqList: `RequisitionList.RequisitionListAlert.successDeleteReqList`,\n    errorAddToCart: `RequisitionList.RequisitionListAlert.errorAddToCart`,\n    successAddToCart: `RequisitionList.RequisitionListAlert.successAddToCart`,\n    errorUpdateQuantity: `RequisitionList.RequisitionListAlert.errorUpdateQuantity`,\n    successUpdateQuantity: `RequisitionList.RequisitionListAlert.successUpdateQuantity`,\n    errorUpdate: `RequisitionList.RequisitionListAlert.errorUpdate`,\n    successUpdate: `RequisitionList.RequisitionListAlert.successUpdate`,\n    errorMove: `RequisitionList.RequisitionListAlert.errorMove`,\n    successMove: `RequisitionList.RequisitionListAlert.successMove`,\n    errorAddToRequisitionList: `RequisitionList.RequisitionListAlert.errorAddToRequisitionList`,\n    successAddToRequisitionList: `RequisitionList.RequisitionListAlert.successAddToRequisitionList`,\n  });\n\n  const translations = useMemo(\n    () => ({\n      ...defaultTranslations,\n      ...translationsOverride,\n    }),\n    [defaultTranslations, translationsOverride]\n  );\n\n  const messages = useMemo(\n    () => ({\n      create: {\n        // adding context for consistency, although 'create' action only applies to requisition lists\n        requisitionList: {\n          success: translations.successCreate,\n          error: translations.errorCreate,\n        },\n      },\n      add: {\n        product: {\n          success: translations.successAddToRequisitionList,\n          error: translations.errorAddToRequisitionList,\n        },\n      },\n      update: {\n        product: {\n          success: translations.successUpdateQuantity,\n          error: translations.errorUpdateQuantity,\n        },\n        requisitionList: {\n          success: translations.successUpdate,\n          error: translations.errorUpdate,\n        },\n      },\n      delete: {\n        product: {\n          success: translations.successDeleteItem,\n          error: translations.errorDeleteItem,\n        },\n        requisitionList: {\n          success: translations.successDeleteReqList,\n          error: translations.errorDeleteReqList,\n        },\n      },\n      move: {\n        // adding context for consistency, although 'move' action only applies to products\n        product: {\n          success: translations.successMove,\n          error: translations.errorMove,\n        },\n      },\n    }),\n    [translations]\n  );\n\n  const handleRequisitionListAlert = useCallback(\n    (payload: RequisitionListActionPayload) => {\n      const { type, action, context, skus, message } = payload;\n      // Use custom message if provided, otherwise use predefined message\n      const description =\n        message && message.length > 0\n          ? message.join('. ')\n          : messages[action][context][type];\n      setAlert({\n        type,\n        description,\n        sku: skus?.[0],\n      });\n\n      const timer = setTimeout(() => {\n        setAlert(null);\n      }, 5000);\n\n      return () => clearTimeout(timer);\n    },\n    [messages]\n  );\n\n  return { alert, setAlert, handleRequisitionListAlert };\n}\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\nimport { FunctionComponent } from 'preact';\nimport { Icon } from '@adobe-commerce/elsie/components';\nimport { classes } from '@adobe-commerce/elsie/lib';\nimport { List } from '@adobe-commerce/elsie/icons';\nimport '@/requisitionList/components/EmptyList/EmptyList.css';\n\nexport interface EmptyListProps {\n  className?: string;\n  textContent?: string | null;\n}\n\nexport const EmptyList: FunctionComponent<EmptyListProps> = ({\n  className,\n  textContent,\n  ...props\n}) => {\n  return (\n    <div\n      className={classes(['empty-list', className])}\n      data-testid=\"empty-list\"\n      {...props}\n    >\n      <Icon source={List} size={'64'} stroke={'2'} />\n      {textContent && <h4>{textContent}</h4>}\n    </div>\n  );\n};\n"],"names":["useRequisitionListEnabled","isEnabled","setIsEnabled","useState","_a","state","_b","useEffect","configListener","events","SvgList","props","React","useRequisitionListAlert","translationsOverride","alert","setAlert","defaultTranslations","useText","translations","useMemo","messages","handleRequisitionListAlert","useCallback","payload","type","action","context","skus","message","description","timer","EmptyList","className","textContent","jsxs","classes","jsx","Icon","List"],"mappings":"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","x_google_ignoreList":[1]}