{"version":3,"file":"state.js","sources":["/@dropins/storefront-requisition-list/src/lib/state.ts"],"sourcesContent":["/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { RequisitionList } from '@/requisitionList/data/models/requisitionList';\n\nexport type StoreConfig = {\n  is_requisition_list_active?: string;\n  company_enabled?: boolean;\n  [key: string]: any; // Allow additional config properties\n};\n\ntype State = {\n  authenticated: boolean;\n  config: StoreConfig | undefined;\n  requisitionLists: RequisitionList[];\n  requisitionListsLoading: boolean;\n  requisitionListsVersion: number;\n};\n\nconst _state: State = (() => {\n  return {\n    authenticated: false,\n    config: undefined,\n    requisitionLists: [],\n    requisitionListsLoading: false,\n    requisitionListsVersion: 0,\n  };\n})();\n\n// Proxy state to allow reactivity\nexport const state = new Proxy(_state, {\n  set(target, key, value) {\n    return Reflect.set(target, key, value);\n  },\n  get(target, key) {\n    return target[key as keyof State];\n  },\n});\n\n// Helper functions for managing requisition lists\nexport const setRequisitionLists = (lists: RequisitionList[]) => {\n  state.requisitionLists = lists;\n  state.requisitionListsVersion++;\n};\n\nexport const addRequisitionList = (list: RequisitionList) => {\n  state.requisitionLists = [...state.requisitionLists, list];\n  state.requisitionListsVersion++;\n};\n\nexport const updateRequisitionList = (list: RequisitionList) => {\n  const exists = state.requisitionLists.some(\n    (l: RequisitionList) => l.uid === list.uid\n  );\n\n  if (exists) {\n    state.requisitionLists = state.requisitionLists.map((l: RequisitionList) =>\n      l.uid === list.uid ? list : l\n    );\n  } else {\n    state.requisitionLists = [...state.requisitionLists, list];\n  }\n  state.requisitionListsVersion++;\n};\n\nexport const getRequisitionListsFromState = () => {\n  return state.requisitionLists;\n};\n\nexport const setRequisitionListsLoading = (loading: boolean) => {\n  state.requisitionListsLoading = loading;\n};\n"],"names":["_state","state","target","key","value","setRequisitionLists","lists","updateRequisitionList","list","l","setRequisitionListsLoading","loading"],"mappings":"AAiCA,MAAMA,EACG,CACL,cAAe,GACf,OAAQ,OACR,iBAAkB,CAAA,EAClB,wBAAyB,GACzB,wBAAyB,CAAA,EAKhBC,EAAQ,IAAI,MAAMD,EAAQ,CACrC,IAAIE,EAAQC,EAAKC,EAAO,CACtB,OAAO,QAAQ,IAAIF,EAAQC,EAAKC,CAAK,CACvC,EACA,IAAIF,EAAQC,EAAK,CACf,OAAOD,EAAOC,CAAkB,CAClC,CACF,CAAC,EAGYE,EAAuBC,GAA6B,CAC/DL,EAAM,iBAAmBK,EACzBL,EAAM,yBACR,EAOaM,EAAyBC,GAA0B,CAC/CP,EAAM,iBAAiB,KACnCQ,GAAuBA,EAAE,MAAQD,EAAK,GAAA,EAIvCP,EAAM,iBAAmBA,EAAM,iBAAiB,IAAKQ,GACnDA,EAAE,MAAQD,EAAK,IAAMA,EAAOC,CAAA,EAG9BR,EAAM,iBAAmB,CAAC,GAAGA,EAAM,iBAAkBO,CAAI,EAE3DP,EAAM,yBACR,EAMaS,EAA8BC,GAAqB,CAC9DV,EAAM,wBAA0BU,CAClC"}