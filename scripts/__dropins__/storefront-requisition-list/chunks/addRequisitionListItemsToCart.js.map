{"version":3,"file":"addRequisitionListItemsToCart.js","sources":["/@dropins/storefront-requisition-list/src/data/transforms/transform-product.ts","/@dropins/storefront-requisition-list/src/api/getRequisitionList/graphql/getRequisitionList.ts","/@dropins/storefront-requisition-list/src/lib/validate-uid.ts","/@dropins/storefront-requisition-list/src/api/getRequisitionList/getRequisitionList.ts","/@dropins/storefront-requisition-list/src/api/updateRequisitionListItems/graphql/updateRequisitionListItems.ts","/@dropins/storefront-requisition-list/src/api/updateRequisitionListItems/updateRequisitionListItems.ts","/@dropins/storefront-requisition-list/src/api/deleteRequisitionListItems/graphql/deleteRequisitionListItems.ts","/@dropins/storefront-requisition-list/src/api/deleteRequisitionListItems/deleteRequisitionListItems.ts","/@dropins/storefront-requisition-list/src/api/fragments/ProductFragment.graphql.ts","/@dropins/storefront-requisition-list/src/api/getProductData/graphql/getProductData.ts","/@dropins/storefront-requisition-list/src/api/getProductData/getProductData.ts","/@dropins/storefront-requisition-list/src/api/addRequisitionListItemsToCart/graphql/addRequisitionListItemsToCart.ts","/@dropins/storefront-requisition-list/src/api/addRequisitionListItemsToCart/addRequisitionListItemsToCart.ts"],"sourcesContent":["/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { Product } from '@/requisitionList/data/models';\n\n// Interface for raw product data from GraphQL API\nexport interface RawProductData {\n  __typename: string;\n  id: string;\n  sku: string;\n  name: string;\n  shortDescription?: string;\n  metaDescription?: string;\n  metaKeyword?: string;\n  metaTitle?: string;\n  description?: string;\n  inStock: boolean;\n  addToCartAllowed: boolean;\n  url?: string;\n  urlKey?: string;\n  externalId?: string;\n  images?: {\n    url: string;\n    label?: string;\n    roles?: string[];\n  }[];\n  attributes?: {\n    name: string;\n    label: string;\n    value: string;\n    roles?: string[];\n  }[];\n  price?: {\n    roles?: string[];\n    regular?: {\n      amount: {\n        value: number;\n        currency: string;\n      };\n    };\n    final?: {\n      amount: {\n        value: number;\n        currency: string;\n      };\n    };\n  };\n  priceRange?: {\n    maximum?: {\n      final?: {\n        amount: {\n          value: number;\n          currency: string;\n        };\n      };\n      regular?: {\n        amount: {\n          value: number;\n          currency: string;\n        };\n      };\n      roles?: string[];\n    };\n    minimum?: {\n      final?: {\n        amount: {\n          value: number;\n          currency: string;\n        };\n      };\n      regular?: {\n        amount: {\n          value: number;\n          currency: string;\n        };\n      };\n      roles?: string[];\n    };\n  };\n  options?: {\n    id: string;\n    title: string;\n    required: boolean;\n    multi: boolean;\n    values: {\n      id: string;\n      title: string;\n      inStock: boolean;\n      __typename: string;\n      quantity?: number;\n      isDefault?: boolean;\n      type?: string;\n      value?: string;\n      product?: {\n        sku: string;\n        name: string;\n        shortDescription?: string;\n        metaDescription?: string;\n        metaKeyword?: string;\n        metaTitle?: string;\n        price?: {\n          final?: {\n            amount: {\n              value: number;\n              currency: string;\n            };\n          };\n          regular?: {\n            amount: {\n              value: number;\n              currency: string;\n            };\n          };\n          roles?: string[];\n        };\n      };\n    }[];\n  }[];\n}\n\nexport function transformProduct(data: RawProductData): Product {\n  return {\n    sku: data.sku,\n    parent_sku: data.sku, // Use same SKU as parent for simple products\n    name: data.name,\n    price: data.price,\n    shortDescription: data.shortDescription || '',\n    metaDescription: data.metaDescription || '',\n    metaKeyword: data.metaKeyword || '',\n    metaTitle: data.metaTitle || '',\n    description: data.description || '',\n    addToCartAllowed: data.addToCartAllowed,\n    stock_status: data.inStock ? 'IN_STOCK' : 'OUT_OF_STOCK',\n    only_x_left_in_stock: null,\n    url: data.url || '',\n    urlKey: data.urlKey || '',\n    externalId: data.externalId || '',\n    images:\n      data.images?.map((image) => ({\n        url: image.url,\n        label: image.label || '',\n        roles: image.roles || [],\n      })) || [],\n  };\n}\n\nexport function transformProducts(products: RawProductData[]): Product[] {\n  if (!products?.length) return [];\n\n  return products.map(transformProduct);\n}\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\nimport { REQUISITION_LIST_FRAGMENT } from '@/requisitionList/api/fragments/RequisitionListFragment.graphql';\nimport { REQUISITION_LIST_ITEMS_FRAGMENT } from '@/requisitionList/api/fragments/RequisitionListItemsFragment.graphql';\n\nexport const GET_REQUISITION_LIST_QUERY = `\n  query GET_REQUISITION_LIST_QUERY(\n    $requisitionListUid: String,\n    $currentPage: Int = 1,\n    $pageSize: Int = 10,\n  ) {\n    customer {\n      requisition_lists (\n        filter: {\n          uids: {\n            eq: $requisitionListUid\n          }\n        }\n      ){\n        items {\n          ...REQUISITION_LIST_FRAGMENT\n          items(pageSize: $pageSize, currentPage: $currentPage) {\n            ...REQUISITION_LIST_ITEMS_FRAGMENT\n          }\n        }\n      }\n    }\n  }\n${REQUISITION_LIST_ITEMS_FRAGMENT}\n${REQUISITION_LIST_FRAGMENT}\n`;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\n/**\n * Validates if a string is a valid base64-encoded UID\n * Adobe Commerce/Magento UIDs are base64 encoded\n *\n * @param uid - The UID to validate\n * @returns true if the UID appears to be valid base64 encoding\n */\nexport function isValidBase64Uid(uid: string | undefined | null): boolean {\n  if (!uid || typeof uid !== 'string' || uid.length < 2) {\n    return false;\n  }\n\n  // Base64 pattern: alphanumeric, +, /\n  // Valid base64 can end with 0, 1, or 2 '=' padding characters\n  // But the length must be a multiple of 4 when padded\n  const base64Pattern = /^[A-Za-z0-9+/]+(==|=)?$/;\n\n  if (!base64Pattern.test(uid)) {\n    return false;\n  }\n\n  // Check that the total length is a multiple of 4 (valid base64 requirement)\n  return uid.length % 4 === 0;\n}\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { GET_REQUISITION_LIST_QUERY } from '@/requisitionList/api/getRequisitionList/graphql/getRequisitionList';\nimport { transformRequisitionList } from '@/requisitionList/data/transforms';\nimport { fetchGraphQl } from '@/requisitionList/api';\nimport { enrichConfigurableProducts } from '@/requisitionList/api/refineProduct';\nimport { handleFetchError } from '@/requisitionList/lib/fetch-error';\nimport { isValidBase64Uid } from '@/requisitionList/lib/validate-uid';\nimport { RequisitionList } from '@/requisitionList/data/models/requisitionList';\nimport { events } from '@adobe-commerce/event-bus';\n\nexport const getRequisitionList = async (\n  requisitionListID: string,\n  currentPage?: number,\n  pageSize?: number\n): Promise<RequisitionList | null> => {\n  // Validate UID format before making API call\n  if (!isValidBase64Uid(requisitionListID)) {\n    console.error('Invalid requisition list UID format:', requisitionListID);\n    return null;\n  }\n\n  return fetchGraphQl(GET_REQUISITION_LIST_QUERY, {\n    variables: {\n      requisitionListUid: requisitionListID,\n      currentPage,\n      pageSize,\n    },\n  }).then(async ({ errors, data }) => {\n    if (errors) return handleFetchError(errors);\n\n    if (!data?.customer?.requisition_lists) {\n      return null;\n    }\n\n    // Enrich configurable products with variant data if items are present\n    if (data.customer.requisition_lists.items[0].items?.items) {\n      data.customer.requisition_lists.items[0].items.items =\n        await enrichConfigurableProducts(\n          data.customer.requisition_lists.items[0].items.items\n        );\n    }\n\n    const payload = transformRequisitionList(\n      data.customer.requisition_lists.items[0]\n    );\n\n    events.emit('requisitionList/data', payload);\n    return payload;\n  });\n};\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\nimport { REQUISITION_LIST_FRAGMENT } from '@/requisitionList/api/fragments/RequisitionListFragment.graphql';\nimport { REQUISITION_LIST_ITEMS_FRAGMENT } from '@/requisitionList/api/fragments/RequisitionListItemsFragment.graphql';\n\nexport const UPDATE_REQUISITION_LIST_ITEMS_MUTATION = `\n  mutation UPDATE_REQUISITION_LIST_ITEMS_MUTATION(\n      $requisitionListUid: ID!, \n      $requisitionListItems: [UpdateRequisitionListItemsInput!]!,\n      $pageSize: Int = 20,\n      $currentPage: Int = 1\n    ) {\n    updateRequisitionListItems(\n      requisitionListUid: $requisitionListUid\n      requisitionListItems: $requisitionListItems\n    ) {\n      requisition_list {\n      ...REQUISITION_LIST_FRAGMENT\n        items(pageSize: $pageSize, currentPage: $currentPage) {\n          ...REQUISITION_LIST_ITEMS_FRAGMENT\n        }\n      }\n    }\n  }\n${REQUISITION_LIST_FRAGMENT}\n${REQUISITION_LIST_ITEMS_FRAGMENT}\n`;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { transformRequisitionList } from '@/requisitionList/data/transforms';\nimport { fetchGraphQl } from '@/requisitionList/api';\nimport { enrichConfigurableProducts } from '@/requisitionList/api/refineProduct';\nimport { handleFetchError } from '@/requisitionList/lib/fetch-error';\nimport { RequisitionList } from '@/requisitionList/data/models/requisitionList';\nimport { UPDATE_REQUISITION_LIST_ITEMS_MUTATION } from '@/requisitionList/api/updateRequisitionListItems/graphql/updateRequisitionListItems';\nimport { events } from '@adobe-commerce/event-bus';\n\nexport const updateRequisitionListItems = async (\n  requisitionListUid: string,\n  requisitionListItems: Array<UpdateRequisitionListItemsInput>,\n  pageSize: number,\n  currentPage: number\n): Promise<RequisitionList | null> => {\n  return fetchGraphQl(UPDATE_REQUISITION_LIST_ITEMS_MUTATION, {\n    variables: {\n      requisitionListUid,\n      requisitionListItems,\n      pageSize,\n      currentPage,\n    },\n  }).then(async ({ errors, data }) => {\n    if (errors) return handleFetchError(errors);\n\n    if (!data?.updateRequisitionListItems?.requisition_list) {\n      return null;\n    }\n\n    // Enrich configurable products with variant data if items are present\n    if (data.updateRequisitionListItems.requisition_list.items?.items) {\n      data.updateRequisitionListItems.requisition_list.items.items =\n        await enrichConfigurableProducts(\n          data.updateRequisitionListItems.requisition_list.items.items\n        );\n    }\n\n    const payload = transformRequisitionList(\n      data.updateRequisitionListItems.requisition_list\n    );\n\n    events.emit('requisitionList/data', payload);\n\n    return payload;\n  });\n};\n\ntype UpdateRequisitionListItemsInput = {\n  item_id: string;\n  quantity?: number;\n  entered_options?: Array<{ uid: string; value: string }>;\n  selected_options?: Array<string>;\n};\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\nimport { REQUISITION_LIST_FRAGMENT } from '@/requisitionList/api/fragments/RequisitionListFragment.graphql';\nimport { REQUISITION_LIST_ITEMS_FRAGMENT } from '@/requisitionList/api/fragments/RequisitionListItemsFragment.graphql';\n\nexport const DELETE_REQUISITION_LIST_ITEMS_MUTATION = `\n  mutation DELETE_REQUISITION_LIST_ITEMS_MUTATION(\n      $requisitionListUid: ID!, \n      $requisitionListItemUids: [ID!]!,\n      $pageSize: Int = 20,\n      $currentPage: Int = 1\n    ) {\n    deleteRequisitionListItems(\n      requisitionListUid: $requisitionListUid\n      requisitionListItemUids: $requisitionListItemUids\n    ) {\n      requisition_list {\n        ...REQUISITION_LIST_FRAGMENT\n        items(pageSize: $pageSize, currentPage: $currentPage) {\n          ...REQUISITION_LIST_ITEMS_FRAGMENT\n        }\n      }\n    }\n  }\n${REQUISITION_LIST_FRAGMENT}\n${REQUISITION_LIST_ITEMS_FRAGMENT}\n`;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { RequisitionList } from '@/requisitionList/data/models/requisitionList';\nimport { fetchGraphQl } from '@/requisitionList/api';\nimport { enrichConfigurableProducts } from '@/requisitionList/api/refineProduct';\nimport { DELETE_REQUISITION_LIST_ITEMS_MUTATION } from '@/requisitionList/api/deleteRequisitionListItems/graphql/deleteRequisitionListItems';\nimport { handleFetchError } from '@/requisitionList/lib/fetch-error';\nimport { transformRequisitionList } from '@/requisitionList/data/transforms';\nimport { events } from '@adobe-commerce/event-bus';\n\nexport const deleteRequisitionListItems = async (\n  requisitionListUid: string,\n  items: Array<string>,\n  pageSize: number,\n  currentPage: number\n): Promise<RequisitionList | null> => {\n  return fetchGraphQl(DELETE_REQUISITION_LIST_ITEMS_MUTATION, {\n    variables: {\n      requisitionListUid,\n      requisitionListItemUids: items,\n      pageSize,\n      currentPage,\n    },\n  }).then(async ({ errors, data }) => {\n    if (errors) return handleFetchError(errors);\n\n    if (!data?.deleteRequisitionListItems?.requisition_list) {\n      return null;\n    }\n\n    // Enrich configurable products with variant data if items are present\n    if (data.deleteRequisitionListItems.requisition_list.items?.items) {\n      data.deleteRequisitionListItems.requisition_list.items.items =\n        await enrichConfigurableProducts(\n          data.deleteRequisitionListItems.requisition_list.items.items\n        );\n    }\n\n    const payload = transformRequisitionList(\n      data.deleteRequisitionListItems.requisition_list\n    );\n    events.emit('requisitionList/data', payload);\n\n    return payload;\n  });\n};\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nexport const PRODUCT_FRAGMENT = `\nfragment PRODUCT_FRAGMENT on ProductView {\n  __typename\n  id\n  sku\n  name\n  shortDescription\n  metaDescription\n  metaKeyword\n  metaTitle\n  description\n  inStock\n  addToCartAllowed\n  url\n  urlKey\n  externalId\n  images(roles: []) {\n    url\n    label\n    roles\n  }\n  attributes(roles: []) {\n    name\n    label\n    value\n    roles\n  }\n  ... on SimpleProductView {\n    price {\n      roles\n      regular {\n        amount {\n          value\n          currency\n        }\n      }\n      final {\n        amount {\n          value\n          currency\n        }\n      }\n    }\n  }\n  ... on ComplexProductView {\n    options {\n      ...PRODUCT_OPTION_FRAGMENT\n    }\n    ...PRICE_RANGE_FRAGMENT\n  }\n}\nfragment PRODUCT_OPTION_FRAGMENT on ProductViewOption {\n  id\n  title\n  required\n  multi\n  values {\n    id\n    title\n    inStock\n    __typename\n    ... on ProductViewOptionValueProduct {\n      title\n      quantity\n      isDefault\n      __typename\n      product {\n        sku\n        shortDescription\n        metaDescription\n        metaKeyword\n        metaTitle\n        name\n        price {\n          final {\n            amount {\n              value\n              currency\n            }\n          }\n          regular {\n            amount {\n              value\n              currency\n            }\n          }\n          roles\n        }\n      }\n    }\n    ... on ProductViewOptionValueSwatch {\n      id\n      title\n      type\n      value\n      inStock\n    }\n  }\n}\nfragment PRICE_RANGE_FRAGMENT on ComplexProductView {\n  priceRange {\n    maximum {\n      final {\n        amount {\n          value\n          currency\n        }\n      }\n      regular {\n        amount {\n          value\n          currency\n        }\n      }\n      roles\n    }\n    minimum {\n      final {\n        amount {\n          value\n          currency\n        }\n      }\n      regular {\n        amount {\n          value\n          currency\n        }\n      }\n      roles\n    }\n  }\n}\n`;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { PRODUCT_FRAGMENT } from '@/requisitionList/api/fragments/ProductFragment.graphql';\n\nexport const GET_PRODUCT_DATA_QUERY = `\n  query GET_PRODUCT_DATA($skus: [String]) {\n    products(skus: $skus) {\n      ...PRODUCT_FRAGMENT\n    }\n  }\n  ${PRODUCT_FRAGMENT}\n`;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { transformProducts } from '@/requisitionList/data/transforms';\nimport { fetchGraphQl } from '@/requisitionList/api';\nimport { handleFetchError } from '@/requisitionList/lib/fetch-error';\nimport { GET_PRODUCT_DATA_QUERY } from './graphql/getProductData';\nimport { Product } from '@/requisitionList/data/models/item';\n\nexport const getProductData = async (\n  skus: string[]\n): Promise<Product[] | null> => {\n  return fetchGraphQl(GET_PRODUCT_DATA_QUERY, {\n    variables: {\n      skus,\n    },\n  }).then(({ errors, data }) => {\n    if (errors) return handleFetchError(errors);\n\n    if (!data?.products) {\n      return null;\n    }\n\n    return transformProducts(data.products);\n  });\n};\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nexport const ADD_REQUISITION_LIST_ITEMS_TO_CART_MUTATION = `\n  mutation ADD_REQUISITION_LIST_ITEMS_TO_CART_MUTATION(\n      $requisitionListUid: ID!, \n      $requisitionListItemUids: [ID!]!\n    ) {\n    addRequisitionListItemsToCart(\n      requisitionListUid: $requisitionListUid\n      requisitionListItemUids: $requisitionListItemUids\n    ) {\n      status\n      add_requisition_list_items_to_cart_user_errors {\n        message\n        type\n      }\n      cart {\n        id\n        itemsV2 {\n          items {\n            uid\n            quantity\n            is_available\n          }\n          total_count\n        }\n        email\n        total_quantity\n        is_virtual\n      }\n    }\n  }\n`;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { fetchGraphQl } from '@/requisitionList/api';\nimport { handleFetchError } from '@/requisitionList/lib/fetch-error';\nimport { ADD_REQUISITION_LIST_ITEMS_TO_CART_MUTATION } from '@/requisitionList/api/addRequisitionListItemsToCart/graphql/addRequisitionListItemsToCart';\n\nexport interface AddToCartError {\n  type: string;\n  message: string;\n}\n\nexport const addRequisitionListItemsToCart = async (\n  requisitionListUid: string,\n  requisitionListItemUids: Array<string>\n): Promise<Array<AddToCartError> | null> => {\n  return fetchGraphQl(ADD_REQUISITION_LIST_ITEMS_TO_CART_MUTATION, {\n    variables: {\n      requisitionListUid,\n      requisitionListItemUids,\n    },\n  }).then(({ errors, data }) => {\n    if (errors) return handleFetchError(errors);\n\n    if (\n      data.addRequisitionListItemsToCart\n        .add_requisition_list_items_to_cart_user_errors?.length\n    ) {\n      return data.addRequisitionListItemsToCart.add_requisition_list_items_to_cart_user_errors.map(\n        (e: any) => ({\n          type: e.type,\n          message: e.message || '',\n        })\n      );\n    }\n    return null;\n  });\n};\n"],"names":["transformProduct","data","_a","image","transformProducts","products","GET_REQUISITION_LIST_QUERY","REQUISITION_LIST_ITEMS_FRAGMENT","REQUISITION_LIST_FRAGMENT","isValidBase64Uid","uid","getRequisitionList","requisitionListID","currentPage","pageSize","fetchGraphQl","errors","handleFetchError","_b","enrichConfigurableProducts","payload","transformRequisitionList","events","UPDATE_REQUISITION_LIST_ITEMS_MUTATION","updateRequisitionListItems","requisitionListUid","requisitionListItems","DELETE_REQUISITION_LIST_ITEMS_MUTATION","deleteRequisitionListItems","items","PRODUCT_FRAGMENT","GET_PRODUCT_DATA_QUERY","getProductData","skus","ADD_REQUISITION_LIST_ITEMS_TO_CART_MUTATION","addRequisitionListItemsToCart","requisitionListItemUids"],"mappings":"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"}