{"version":3,"file":"PurchaseOrderApprovalFlow.js","sources":["../../node_modules/@adobe-commerce/elsie/src/icons/CheckWithCircle.svg","../../node_modules/@adobe-commerce/elsie/src/icons/InfoFilled.svg","../../node_modules/@adobe-commerce/elsie/src/icons/WarningWithCircle.svg","/@dropins/storefront-purchase-order/src/components/PurchaseOrderApprovalFlowContent/PurchaseOrderApprovalFlowContent.tsx","/@dropins/storefront-purchase-order/src/containers/PurchaseOrderApprovalFlow/PurchaseOrderApprovalFlow.tsx"],"sourcesContent":["import * as React from \"react\";\nconst SvgCheckWithCircle = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", d: \"M0.75 12C0.75 5.78421 5.78421 0.75 12 0.75C18.2158 0.75 23.25 5.78421 23.25 12C23.25 18.2158 18.2158 23.25 12 23.25C5.78421 23.25 0.75 18.2158 0.75 12Z\", stroke: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", d: \"M6.75 12.762L10.2385 15.75L17.25 9\", stroke: \"currentColor\" }));\nexport default SvgCheckWithCircle;\n","import * as React from \"react\";\nconst SvgInfoFilled = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M0 12C0 5.37931 5.37931 0 12 0C18.6207 0 24 5.37931 24 12C24 18.6207 18.6207 24 12 24C5.37931 24 0 18.6207 0 12ZM11.8885 5.06101C11.1405 5.06101 10.5357 5.66579 10.5357 6.4138V6.57295C10.5835 7.27321 11.1882 7.81433 11.8885 7.76658H12.0795C12.7797 7.70292 13.289 7.09815 13.2413 6.4138C13.2413 5.66579 12.6365 5.06101 11.8885 5.06101ZM13.1935 16.8223H14.1007C14.2599 16.8223 14.4031 16.9655 14.4031 17.1247V17.7294C14.4031 17.9045 14.2599 18.0318 14.1007 18.0318H9.8832C9.70813 18.0318 9.58081 17.8886 9.58081 17.7294V17.1247C9.58081 16.9496 9.72405 16.8223 9.8832 16.8223H10.7904V10.7905H9.8832C9.70813 10.7905 9.58081 10.6472 9.58081 10.4881V9.88329C9.58081 9.70823 9.72405 9.58091 9.8832 9.58091H12.5888C12.923 9.58091 13.1935 9.85146 13.1935 10.1857V16.8223Z\", fill: \"currentColor\" }));\nexport default SvgInfoFilled;\n","import * as React from \"react\";\nconst SvgWarningWithCircle = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 24, height: 24, viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", d: \"M0.75 12C0.75 5.78421 5.78421 0.75 12 0.75C18.2158 0.75 23.25 5.78421 23.25 12C23.25 18.2158 18.2158 23.25 12 23.25C5.78421 23.25 0.75 18.2158 0.75 12Z\", stroke: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { vectorEffect: \"non-scaling-stroke\", d: \"M11.75 5.88423V4.75H12.25V5.88423L12.0485 13.0713H11.9515L11.75 5.88423ZM11.7994 18.25V16.9868H12.2253V18.25H11.7994Z\", stroke: \"currentColor\" }));\nexport default SvgWarningWithCircle;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { Fragment, FunctionComponent } from 'preact';\nimport { classes } from '@adobe-commerce/elsie/lib';\nimport '@/b2b-purchase-order/components/PurchaseOrderApprovalFlowContent/PurchaseOrderApprovalFlowContent.css';\nimport { PurchaseOrderApprovalFlowContentProps } from '@/b2b-purchase-order/types/components';\nimport { Text, useText } from '@adobe-commerce/elsie/i18n';\nimport {\n  CheckWithCircle,\n  InfoFilled,\n  WarningWithCircle,\n} from '@adobe-commerce/elsie/icons';\n\nexport const PurchaseOrderApprovalFlowContent: FunctionComponent<\n  PurchaseOrderApprovalFlowContentProps\n> = ({ approvalFlow = [] }) => {\n  const t = useText({\n    pending: 'PurchaseOrders.approvalFlow.ariaLabels.icons.pending',\n    approved: 'PurchaseOrders.approvalFlow.ariaLabels.icons.approved',\n    rejected: 'PurchaseOrders.approvalFlow.ariaLabels.icons.rejected',\n  });\n  if (!approvalFlow?.length) {\n    return (\n      <div className={'b2b-purchase-order-approval-flow-content'}>\n        <Text id=\"PurchaseOrders.approvalFlow.emptyText\" />\n      </div>\n    );\n  }\n\n  const getIconWithAriaLabel = (\n    type: 'PENDING' | 'APPROVED' | 'REJECTED' | string\n  ) => {\n    switch (type) {\n      case 'PENDING': {\n        return (\n          <InfoFilled\n            className={\n              'b2b-purchase-order-approval-flow-content__icon--pending'\n            }\n            aria-label={t.pending}\n            role=\"img\"\n          />\n        );\n      }\n      case 'APPROVED': {\n        return (\n          <CheckWithCircle\n            className={\n              'b2b-purchase-order-approval-flow-content__icon--approved'\n            }\n            aria-label={t.approved}\n            role=\"img\"\n          />\n        );\n      }\n      case 'REJECTED': {\n        return (\n          <WarningWithCircle\n            className={\n              'b2b-purchase-order-approval-flow-content__icon--rejected'\n            }\n            aria-label={t.rejected}\n            role=\"img\"\n          />\n        );\n      }\n\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className={classes(['b2b-purchase-order-approval-flow-content'])}>\n      <ul className={'b2b-purchase-order-approval-flow-content__list'}>\n        {approvalFlow.map((item, index) => (\n          <Fragment key={index}>\n            <li className={'b2b-purchase-order-approval-flow-content__item'}>\n              <div\n                className={'b2b-purchase-order-approval-flow-content__title'}\n              >\n                {item.ruleName}\n              </div>\n              {item.events.map((event, evtIndex) => {\n                return (\n                  <div\n                    key={evtIndex}\n                    className={\n                      'b2b-purchase-order-approval-flow-content__description'\n                    }\n                  >\n                    {getIconWithAriaLabel(event.status)}\n                    {event.message}\n                  </div>\n                );\n              })}\n            </li>\n            {index < approvalFlow.length - 1 && (\n              <hr\n                className={'b2b-purchase-order-approval-flow-content__divider'}\n              />\n            )}\n          </Fragment>\n        ))}\n      </ul>\n    </div>\n  );\n};\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { classes, Container } from '@adobe-commerce/elsie/lib';\nimport {\n  PurchaseOrderApprovalFlowContent,\n  PurchaseOrdersHeader,\n} from '@/b2b-purchase-order/components';\nimport { Card, Skeleton, SkeletonRow } from '@adobe-commerce/elsie/components';\nimport { useText } from '@adobe-commerce/elsie/i18n';\nimport { usePurchaseOrderData } from '@/b2b-purchase-order/hooks';\nimport { PurchaseOrderApprovalFlowProps } from '@/b2b-purchase-order/types/containers';\n\nexport const PurchaseOrderApprovalFlow: Container<\n  PurchaseOrderApprovalFlowProps\n> = ({ className, withHeader = true, withWrapper = true }) => {\n  const { poDataLoading, purchaseOrderData } = usePurchaseOrderData();\n  const t = useText({\n    headerText: 'PurchaseOrders.approvalFlow.headerText',\n  });\n\n  const renderApprovalFlow = (\n    <>\n      {withHeader && withWrapper ? (\n        <PurchaseOrdersHeader headerText={t.headerText} divider={true} />\n      ) : null}\n      {!poDataLoading ? (\n        <PurchaseOrderApprovalFlowContent\n          approvalFlow={purchaseOrderData?.approvalFlow || []}\n        />\n      ) : (\n        <Skeleton rowGap=\"medium\" data-testid=\"approval-flow-loader\">\n          <SkeletonRow\n            size=\"small\"\n            variant=\"row\"\n            fullWidth\n            lines={1}\n            style={{ maxWidth: 300 }}\n          />\n          <SkeletonRow size=\"medium\" variant=\"row\" fullWidth lines={1} />\n        </Skeleton>\n      )}\n    </>\n  );\n\n  return (\n    <div\n      className={classes(['b2b-purchase-order-approval-flow', className])}\n      data-testid=\"order-approval-flow-container\"\n    >\n      {withHeader && !withWrapper ? (\n        <PurchaseOrdersHeader headerText={t.headerText} />\n      ) : null}\n      {withWrapper ? (\n        <Card variant={'secondary'} data-testid=\"orderApprovalFlowCard\">\n          {renderApprovalFlow}\n        </Card>\n      ) : (\n        renderApprovalFlow\n      )}\n    </div>\n  );\n};\n"],"names":["SvgCheckWithCircle","props","React","SvgInfoFilled","SvgWarningWithCircle","PurchaseOrderApprovalFlowContent","approvalFlow","t","useText","jsx","Text","getIconWithAriaLabel","type","InfoFilled","CheckWithCircle","WarningWithCircle","classes","item","index","Fragment","jsxs","event","evtIndex","PurchaseOrderApprovalFlow","className","withHeader","withWrapper","poDataLoading","purchaseOrderData","usePurchaseOrderData","renderApprovalFlow","PurchaseOrdersHeader","Skeleton","SkeletonRow","Card"],"mappings":"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","x_google_ignoreList":[0,1,2]}