{"version":3,"file":"transform-purchase-order-approval-rule.js","sources":["/@dropins/storefront-purchase-order/src/data/transforms/transform-purchase-order-approval-rule.ts"],"sourcesContent":["/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { PurchaseOrderApprovalRuleModel } from '../models/purchase-order-approval-rule-model';\n\nexport const transformPurchaseOrderApprovalRule = (\n  approvalRule: any\n): PurchaseOrderApprovalRuleModel => {\n  // Transform company role helper function\n  const transformCompanyRole = (role: any) => ({\n    id: role?.id || '',\n    name: role?.name || '',\n    usersCount: role?.users_count || 0,\n    permissions: (role?.permissions || []).map((permission: any) => ({\n      id: permission?.id || '',\n      sortOrder: permission?.sort_order || 0,\n      text: permission?.text || '',\n    })),\n  });\n\n  // Transform condition helper function\n  const transformCondition = (condition: any) => ({\n    attribute: condition?.attribute,\n    operator: condition?.operator,\n    quantity: condition?.quantity || 0,\n    amount: {\n      currency: condition?.amount?.currency || 'USD',\n      value: condition?.amount?.value || 0,\n    },\n  });\n\n  return {\n    uid: approvalRule?.uid || '',\n    name: approvalRule?.name || '',\n    description: approvalRule?.description || '',\n    status: approvalRule?.status,\n    createdAt: approvalRule?.created_at || '',\n    updatedAt: approvalRule?.updated_at || '',\n    createdBy: approvalRule?.created_by,\n    appliesToRoles: (approvalRule?.applies_to_roles || []).map(\n      transformCompanyRole\n    ),\n    approverRoles: (approvalRule?.approver_roles || []).map(\n      transformCompanyRole\n    ),\n    condition: transformCondition(approvalRule?.condition || {}),\n  };\n};\n"],"names":["transformPurchaseOrderApprovalRule","approvalRule","transformCompanyRole","role","permission","transformCondition","condition","_a","_b"],"mappings":"AAmBO,MAAMA,EACXC,GACmC,CAEnC,MAAMC,EAAwBC,IAAe,CAC3C,IAAIA,GAAA,YAAAA,EAAM,KAAM,GAChB,MAAMA,GAAA,YAAAA,EAAM,OAAQ,GACpB,YAAYA,GAAA,YAAAA,EAAM,cAAe,EACjC,cAAcA,GAAA,YAAAA,EAAM,cAAe,CAAA,GAAI,IAAKC,IAAqB,CAC/D,IAAIA,GAAA,YAAAA,EAAY,KAAM,GACtB,WAAWA,GAAA,YAAAA,EAAY,aAAc,EACrC,MAAMA,GAAA,YAAAA,EAAY,OAAQ,EAAA,EAC1B,CAAA,GAIEC,EAAsBC,GAAA,CAhBvB,IAAAC,EAAAC,EAgB2C,OAC9C,UAAWF,GAAA,YAAAA,EAAW,UACtB,SAAUA,GAAA,YAAAA,EAAW,SACrB,UAAUA,GAAA,YAAAA,EAAW,WAAY,EACjC,OAAQ,CACN,WAAUC,EAAAD,GAAA,YAAAA,EAAW,SAAX,YAAAC,EAAmB,WAAY,MACzC,QAAOC,EAAAF,GAAA,YAAAA,EAAW,SAAX,YAAAE,EAAmB,QAAS,CAAA,CACrC,GAGF,MAAO,CACL,KAAKP,GAAA,YAAAA,EAAc,MAAO,GAC1B,MAAMA,GAAA,YAAAA,EAAc,OAAQ,GAC5B,aAAaA,GAAA,YAAAA,EAAc,cAAe,GAC1C,OAAQA,GAAA,YAAAA,EAAc,OACtB,WAAWA,GAAA,YAAAA,EAAc,aAAc,GACvC,WAAWA,GAAA,YAAAA,EAAc,aAAc,GACvC,UAAWA,GAAA,YAAAA,EAAc,WACzB,iBAAiBA,GAAA,YAAAA,EAAc,mBAAoB,CAAA,GAAI,IACrDC,CAAA,EAEF,gBAAgBD,GAAA,YAAAA,EAAc,iBAAkB,CAAA,GAAI,IAClDC,CAAA,EAEF,UAAWG,GAAmBJ,GAAA,YAAAA,EAAc,YAAa,CAAA,CAAE,CAAA,CAE/D"}