{"version":3,"file":"formatDate.js","sources":["/@dropins/storefront-purchase-order/src/lib/formatDate.ts"],"sourcesContent":["/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { getGlobalLocale } from '@adobe-commerce/elsie/lib';\n\n/**\n * Determines the effective locale to use for price formatting\n * Priority: prop locale > global locale > browser locale > default 'en-US'\n */\nexport function getEffectiveLocale(locale?: string): string {\n  if (locale) {\n    return locale;\n  }\n  const globalLocale = getGlobalLocale();\n  if (globalLocale) {\n    return globalLocale;\n  }\n  // Fallback to browser locale or default\n  return process.env.LOCALE && process.env.LOCALE !== 'undefined'\n    ? process.env.LOCALE\n    : 'en-US';\n}\n\n/**\n * Format a date string to a localized format like \"Sep 8, 2025 6:32:13 AM\"\n * @param dateString - ISO date string or date string\n * @param locale - Locale for formatting (defaults to 'en-US')\n * @returns Formatted date string\n */\nexport const formatDate = (\n  dateString: string,\n  locale: string = 'en-US'\n): string => {\n  try {\n    const date = new Date(dateString);\n\n    if (isNaN(date.getTime())) {\n      return dateString; // Return original if invalid\n    }\n\n    const effectiveLocale = getEffectiveLocale(locale);\n\n    return date.toLocaleString(effectiveLocale, {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: '2-digit',\n      second: '2-digit',\n      hour12: true,\n    });\n  } catch (error) {\n    return dateString; // Return original on error\n  }\n};\n"],"names":["getEffectiveLocale","locale","globalLocale","getGlobalLocale","define_process_env_default","formatDate","dateString","date","effectiveLocale"],"mappings":"iEAuBO,SAASA,EAAmBC,EAAyB,CAC1D,GAAIA,EACF,OAAOA,EAET,MAAMC,EAAeC,EAAA,EACrB,OAAID,IAIGE,EAAY,QAAUA,EAAY,SAAW,YAChDA,EAAY,OACZ,QACN,CAQO,MAAMC,EAAa,CACxBC,EACAL,EAAiB,UACN,CACX,GAAI,CACF,MAAMM,EAAO,IAAI,KAAKD,CAAU,EAEhC,GAAI,MAAMC,EAAK,QAAA,CAAS,EACtB,OAAOD,EAGT,MAAME,EAAkBR,EAAmBC,CAAM,EAEjD,OAAOM,EAAK,eAAeC,EAAiB,CAC1C,KAAM,UACN,MAAO,QACP,IAAK,UACL,KAAM,UACN,OAAQ,UACR,OAAQ,UACR,OAAQ,EAAA,CACT,CACH,MAAgB,CACd,OAAOF,CACT,CACF"}