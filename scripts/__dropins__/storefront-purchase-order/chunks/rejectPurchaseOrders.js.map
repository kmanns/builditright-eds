{"version":3,"file":"rejectPurchaseOrders.js","sources":["/@dropins/storefront-purchase-order/src/api/graphql/PurchaseOrderQuoteFragment.ts","/@dropins/storefront-purchase-order/src/api/graphql/PurchaseOrdersFragment.graphql.ts","/@dropins/storefront-purchase-order/src/data/transforms/transform-purchase-order.ts","/@dropins/storefront-purchase-order/src/api/approvePurchaseOrders/graphql/approvePurchaseOrders.graphql.ts","/@dropins/storefront-purchase-order/src/api/approvePurchaseOrders/approvePurchaseOrders.ts","/@dropins/storefront-purchase-order/src/api/rejectPurchaseOrders/graphql/rejectPurchaseOrders.graphql.ts","/@dropins/storefront-purchase-order/src/api/rejectPurchaseOrders/rejectPurchaseOrders.ts"],"sourcesContent":["/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\n/**\n * Limited Quote fragment for Purchase Order context\n * Some fields from full Cart type may not be available in purchase_order.quote\n */\nexport const PURCHASE_ORDER_QUOTE_FRAGMENT = /* GraphQL */ `\n  fragment PURCHASE_ORDER_QUOTE_FRAGMENT on Cart {\n    __typename\n    id\n    email\n    is_virtual\n    total_quantity\n    applied_coupons {\n      code\n    }\n    applied_gift_cards {\n      code\n      applied_balance {\n        value\n        currency\n      }\n      current_balance {\n        value\n        currency\n      }\n      expiration_date\n    }\n    applied_reward_points {\n      money {\n        value\n        currency\n      }\n      points\n    }\n    applied_store_credit {\n      applied_balance {\n        value\n        currency\n      }\n      current_balance {\n        value\n        currency\n      }\n    }\n    available_gift_wrappings {\n      uid\n      design\n      price {\n        value\n        currency\n      }\n      image {\n        url\n        label\n      }\n    }\n    gift_message {\n      from\n      to\n      message\n    }\n    gift_receipt_included\n    gift_wrapping {\n      uid\n      design\n      price {\n        value\n        currency\n      }\n      image {\n        url\n        label\n      }\n    }\n    printed_card_included\n    available_payment_methods {\n      code\n      title\n      is_deferred\n    }\n    selected_payment_method {\n      code\n      title\n    }\n    billing_address {\n      city\n      company\n      country {\n        code\n        label\n      }\n      firstname\n      lastname\n      postcode\n      region {\n        code\n        label\n      }\n      street\n      telephone\n      custom_attributes {\n        code\n      }\n      fax\n      id\n      middlename\n      prefix\n      suffix\n      uid\n      vat_id\n    }\n    shipping_addresses {\n      city\n      company\n      country {\n        code\n        label\n      }\n      firstname\n      lastname\n      postcode\n      region {\n        code\n        label\n      }\n      street\n      telephone\n      custom_attributes {\n        code\n      }\n      fax\n      id\n      middlename\n      prefix\n      suffix\n      uid\n      vat_id\n      available_shipping_methods {\n        amount {\n          value\n          currency\n        }\n        carrier_code\n        carrier_title\n        method_code\n        method_title\n      }\n      selected_shipping_method {\n        amount {\n          value\n          currency\n        }\n        carrier_code\n        carrier_title\n        method_code\n        method_title\n      }\n    }\n    rules {\n      uid\n    }\n    itemsV2(pageSize: 100, currentPage: 1) {\n      items {\n        uid\n        quantity\n        product {\n          __typename\n          uid\n          name\n          sku\n          url_key\n          canonical_url\n          stock_status\n          only_x_left_in_stock\n          image {\n            url\n            label\n          }\n          small_image {\n            url\n            label\n          }\n          thumbnail {\n            url\n            label\n          }\n          price_range {\n            maximum_price {\n              regular_price {\n                value\n                currency\n              }\n              final_price {\n                value\n                currency\n              }\n            }\n          }\n        }\n        prices {\n          price {\n            value\n            currency\n          }\n          price_including_tax {\n            value\n            currency\n          }\n          original_item_price {\n            value\n            currency\n          }\n          original_row_total {\n            value\n            currency\n          }\n          row_total {\n            value\n            currency\n          }\n          row_total_including_tax {\n            value\n            currency\n          }\n          total_item_discount {\n            value\n            currency\n          }\n          discounts {\n            label\n            amount {\n              value\n              currency\n            }\n          }\n          fixed_product_taxes {\n            label\n            amount {\n              value\n              currency\n            }\n          }\n        }\n        ... on SimpleCartItem {\n          customizable_options {\n            label\n            values {\n              label\n              value\n            }\n          }\n        }\n        ... on ConfigurableCartItem {\n          configurable_options {\n            option_label\n            value_label\n          }\n        }\n        ... on BundleCartItem {\n          bundle_options {\n            uid\n            label\n            type\n            values {\n              uid\n              label\n              quantity\n            }\n          }\n        }\n        ... on DownloadableCartItem {\n          links {\n            uid\n            title\n          }\n        }\n        ... on GiftCardCartItem {\n          sender_name\n          sender_email\n          recipient_name\n          recipient_email\n          message\n          amount {\n            value\n            currency\n          }\n        }\n        errors {\n          code\n          message\n        }\n        is_available\n        max_qty\n        min_qty\n        not_available_message\n        note_from_buyer {\n          note_uid\n          note\n          created_at\n        }\n        note_from_seller {\n          note_uid\n          note\n          created_at\n        }\n      }\n      page_info {\n        current_page\n        page_size\n        total_pages\n      }\n      total_count\n    }\n    prices {\n      grand_total {\n        value\n        currency\n      }\n      grand_total_excluding_tax {\n        value\n        currency\n      }\n      subtotal_excluding_tax {\n        value\n        currency\n      }\n      subtotal_including_tax {\n        value\n        currency\n      }\n      subtotal_with_discount_excluding_tax {\n        value\n        currency\n      }\n      applied_taxes {\n        label\n        amount {\n          value\n          currency\n        }\n      }\n      discounts {\n        label\n        amount {\n          value\n          currency\n        }\n      }\n      gift_options {\n        gift_wrapping_for_items {\n          value\n          currency\n        }\n        gift_wrapping_for_items_incl_tax {\n          value\n          currency\n        }\n        gift_wrapping_for_order {\n          value\n          currency\n        }\n        gift_wrapping_for_order_incl_tax {\n          value\n          currency\n        }\n        printed_card {\n          value\n          currency\n        }\n        printed_card_incl_tax {\n          value\n          currency\n        }\n      }\n    }\n  }\n`;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { PURCHASE_ORDER_QUOTE_FRAGMENT } from './PurchaseOrderQuoteFragment';\n\nexport const PURCHASE_ORDERS_FRAGMENT = /* GraphQL */ `\n  fragment PURCHASE_ORDERS_FRAGMENT on PurchaseOrder {\n    __typename\n    uid\n    number\n    status\n    available_actions\n    approval_flow {\n      events {\n        name\n        role\n        message\n        status\n        updated_at\n      }\n      rule_name\n    }\n    comments {\n      created_at\n      author {\n        firstname\n        lastname\n        email\n      }\n      text\n    }\n    created_at\n    updated_at\n    created_by {\n      firstname\n      lastname\n      email\n    }\n    history_log {\n      message\n      created_at\n      activity\n      __typename\n      uid\n    }\n    order {\n      number\n    }\n    quote {\n      ...PURCHASE_ORDER_QUOTE_FRAGMENT\n    }\n  }\n  ${PURCHASE_ORDER_QUOTE_FRAGMENT}\n`;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { PurchaseOrderModel } from '@/b2b-purchase-order/data/models';\n\nexport const transformPurchaseOrder = (\n  purchaseOrder: any\n): PurchaseOrderModel => {\n  const order = {\n    typename: purchaseOrder?.__typename ?? '',\n    uid: purchaseOrder?.uid ?? '',\n    number: purchaseOrder?.number ?? '',\n    status: purchaseOrder?.status ?? '',\n    availableActions: purchaseOrder?.available_actions ?? [],\n    approvalFlow: purchaseOrder?.approval_flow?.length\n      ? purchaseOrder.approval_flow.map((flow: any) => ({\n          ruleName: flow?.rule_name ?? '',\n          events:\n            flow?.events?.map((event: any) => ({\n              message: event?.message ?? '',\n              name: event?.name ?? '',\n              role: event?.role ?? '',\n              status: event?.status ?? '',\n              updatedAt: event?.updated_at ?? '',\n            })) ?? [],\n        }))\n      : [],\n    comments:\n      purchaseOrder?.comments?.map((comment: any) => ({\n        uid: comment?.uid ?? '',\n        createdAt: comment?.created_at ?? '',\n        author: {\n          firstname: comment?.author?.firstname ?? '',\n          lastname: comment?.author?.lastname ?? '',\n          email: comment?.author?.email ?? '',\n        },\n        text: comment?.text ?? '',\n      })) ?? [],\n    createdAt: purchaseOrder?.created_at ?? '',\n    updatedAt: purchaseOrder?.updated_at ?? '',\n    createdBy: {\n      firstname: purchaseOrder?.created_by?.firstname ?? '',\n      lastname: purchaseOrder?.created_by?.lastname ?? '',\n      email: purchaseOrder?.created_by?.email ?? '',\n    },\n    historyLog:\n      purchaseOrder?.history_log?.map((log: any) => ({\n        activity: log?.activity ?? '',\n        createdAt: log?.created_at ?? '',\n        message: log?.message ?? '',\n        uid: log?.uid ?? '',\n      })) ?? [],\n    quote: transformQuoteToOrder(purchaseOrder?.quote),\n    order: {\n      id: purchaseOrder?.order?.id ?? '',\n      orderNumber: purchaseOrder?.order?.number ?? '',\n    },\n  };\n\n  return order;\n};\n\nfunction transformQuoteToOrder(quote: any) {\n  if (!quote) return null;\n\n  // Helper functions\n  const parseNumber = (value: number | undefined | null) => {\n    return value || 0;\n  };\n\n  const transformUserInformation = (user: any) => {\n    return {\n      firstName: user?.firstname ?? '',\n      lastName: user?.lastname ?? '',\n      middleName: user?.middlename ?? '',\n    };\n  };\n\n  const transformAddress = (address: any) => {\n    const { firstName, lastName, middleName } =\n      transformUserInformation(address);\n\n    return {\n      firstName,\n      lastName,\n      middleName,\n      city: address?.city ?? '',\n      company: address?.company ?? '',\n      country: address?.country?.label ?? '',\n      countryCode: address?.country?.code ?? '',\n      fax: address?.fax ?? '',\n      postCode: address?.postcode ?? '',\n      prefix: address?.prefix ?? '',\n      region: address?.region?.label ?? '',\n      regionId: address?.region?.code ?? '',\n      street: address?.street ?? [],\n      suffix: address?.suffix ?? '',\n      telephone: address?.telephone ?? '',\n      vatId: address?.vat_id ?? '',\n      customAttributes: address?.custom_attributes ?? [],\n    };\n  };\n\n  const transformProduct = (product: any) => {\n    return {\n      __typename: product?.__typename || '',\n      uid: product?.uid || '',\n      onlyXLeftInStock: product?.only_x_left_in_stock ?? 0,\n      stockStatus: product?.stock_status ?? '',\n      priceRange: {\n        maximumPrice: {\n          regularPrice: {\n            currency:\n              product?.price_range?.maximum_price?.regular_price?.currency ??\n              '',\n            value:\n              product?.price_range?.maximum_price?.regular_price?.value ?? 0,\n          },\n        },\n      },\n      canonicalUrl: product?.canonical_url ?? '',\n      urlKey: product?.url_key || '',\n      id: product?.uid ?? '',\n      name: product?.name || '',\n      sku: product?.sku || '',\n      image: product?.image?.url || '',\n      imageAlt: product?.image?.label || '',\n      productType: product?.__typename || '',\n      thumbnail: {\n        label: product?.thumbnail?.label || '',\n        url: product?.thumbnail?.url || '',\n      },\n    };\n  };\n\n  const transformConfigurableOptions = (item: any) => {\n    if (!item) return;\n\n    // GraphQL returns configurable_options (not selected_options)\n    if (!('configurable_options' in item)) return;\n\n    const configurableOptions: Record<string, string> = {};\n\n    for (const option of item.configurable_options!) {\n      // GraphQL fields: option_label and value_label\n      configurableOptions[option!.option_label] = option!.value_label;\n    }\n\n    return configurableOptions;\n  };\n  const transformBundleOptions = (data: any) => {\n    const bundle = data?.map((option: any) => ({\n      uid: option.uid,\n      label: option.label,\n      values: option.values.map((value: any) => value.product_name).join(', '),\n    }));\n\n    const bundleOptions: { [key: string]: any } = {};\n\n    bundle?.forEach((option: any) => {\n      bundleOptions[option.label] = option.values;\n    });\n\n    return Object.keys(bundleOptions).length > 0 ? bundleOptions : null;\n  };\n\n  const transformLinks = (links: { title: string }[]) => {\n    return links?.length > 0\n      ? {\n          count: links.length,\n          result: links.map((link: any) => link.title).join(', '),\n        }\n      : null;\n  };\n\n  const transformGiftCard = (item: any) => {\n    return {\n      senderName: item?.gift_card?.sender_name || '',\n      senderEmail: item?.gift_card?.sender_email || '',\n      recipientEmail: item?.gift_card?.recipient_email || '',\n      recipientName: item?.gift_card?.recipient_name || '',\n      message: item?.gift_card?.message || '',\n    };\n  };\n\n  const transformGiftMessage = (data: any) => {\n    return {\n      senderName: data?.gift_message?.from ?? '',\n      recipientName: data?.gift_message?.to ?? '',\n      message: data?.gift_message?.message ?? '',\n    };\n  };\n\n  const transformGiftWrapping = (data: any) => {\n    return {\n      design: data?.gift_wrapping?.design ?? '',\n      uid: data?.gift_wrapping?.uid ?? '',\n      selected: Boolean(data?.gift_wrapping?.uid),\n      image: {\n        url: data?.gift_wrapping?.image?.url ?? '',\n        label: data?.gift_wrapping?.image?.label ?? '',\n      },\n      price: {\n        currency: data?.gift_wrapping?.price?.currency ?? 'USD',\n        value: data?.gift_wrapping?.price?.value ?? 0,\n      },\n    };\n  };\n\n  const transformWrappingPrice = (data: any) => {\n    return {\n      currency: data?.currency ?? 'USD',\n      value: data?.value ?? 0,\n    };\n  };\n\n  const transformTaxCalculations = (\n    itemPrices: any,\n    productPrice: { value: number; currency: string }\n  ) => {\n    const price = itemPrices?.price;\n    const priceIncludingTax = itemPrices?.priceIncludingTax;\n    const originalPrice = itemPrices?.originalPrice;\n\n    // For quote, discounted is always false since there are no discounts yet\n    const discounted = false;\n    const baseOriginalPriceValue = discounted\n      ? originalPrice?.value\n      : priceIncludingTax?.value;\n\n    const includeAndExcludeTax = {\n      originalPrice,\n      baseOriginalPrice: {\n        value: baseOriginalPriceValue,\n        currency: originalPrice?.currency,\n      },\n      baseDiscountedPrice: {\n        value: priceIncludingTax?.value,\n        currency: priceIncludingTax?.currency,\n      },\n      baseExcludingTax: {\n        value: price?.value,\n        currency: price?.currency,\n      },\n    };\n\n    const excludeTax = {\n      originalPrice,\n      baseOriginalPrice: {\n        value: originalPrice?.value,\n        currency: priceIncludingTax?.currency,\n      },\n      baseDiscountedPrice: {\n        value: productPrice?.value,\n        currency: price?.currency,\n      },\n      baseExcludingTax: {\n        value: price?.value,\n        currency: price?.currency,\n      },\n    };\n\n    const includeTax = {\n      singleItemPrice: {\n        value: discounted ? originalPrice.value : priceIncludingTax.value,\n        currency: priceIncludingTax.currency,\n      },\n      baseOriginalPrice: {\n        value: baseOriginalPriceValue,\n        currency: priceIncludingTax.currency,\n      },\n      baseDiscountedPrice: {\n        value: priceIncludingTax.value,\n        currency: priceIncludingTax.currency,\n      },\n    };\n\n    return {\n      includeAndExcludeTax,\n      excludeTax,\n      includeTax,\n    };\n  };\n\n  const transformQuoteItem = (item: any) => {\n    const product = item?.product;\n    const prices = item?.prices;\n    const quantity = parseNumber(item?.quantity);\n\n    const itemPrices = {\n      price: prices?.price ?? { value: 0, currency: 'USD' },\n      priceIncludingTax: prices?.price_including_tax ?? {\n        value: 0,\n        currency: 'USD',\n      },\n      originalPrice: prices?.original_item_price ?? {\n        value: 0,\n        currency: 'USD',\n      },\n      originalPriceIncludingTax: prices?.original_item_price ?? {\n        value: 0,\n        currency: 'USD',\n      },\n      discounts: prices?.discounts ?? [],\n    };\n\n    const discounted =\n      (prices?.original_item_price?.value ?? 0) > (prices?.price?.value ?? 0);\n\n    const price = prices?.price ?? { value: 0, currency: 'USD' };\n\n    return {\n      giftMessage: transformGiftMessage(item),\n      giftWrappingPrice: transformWrappingPrice(item?.gift_wrapping?.price),\n      productGiftWrapping: [transformGiftWrapping(item)],\n      taxCalculations: transformTaxCalculations(itemPrices, price),\n      productSalePrice: price,\n      status: item?.is_available ? 'available' : 'unavailable',\n      currentReturnOrderQuantity: 0,\n      eligibleForReturn: false,\n      productSku: product?.sku ?? '',\n      type: product?.__typename ?? '',\n      discounted,\n      id: item?.uid ?? '',\n      productName: product?.name ?? '',\n      productUrlKey: product?.url_key ?? '',\n      regularPrice: {\n        value: product?.price_range?.maximum_price?.regular_price?.value ?? 0,\n        currency:\n          product?.price_range?.maximum_price?.regular_price?.currency ?? 'USD',\n      },\n      price,\n      product: transformProduct(product),\n      selectedOptions: item?.customizable_options ?? [],\n      thumbnail: {\n        label: product?.thumbnail?.label || '',\n        url: product?.thumbnail?.url || '',\n      },\n      downloadableLinks:\n        product?.__typename === 'DownloadableProduct' &&\n        item?.downloadable_links\n          ? transformLinks(item.downloadable_links)\n          : null,\n      prices: itemPrices,\n      itemPrices,\n      bundleOptions:\n        product?.__typename === 'BundleProduct' && item?.bundle_options\n          ? transformBundleOptions(item.bundle_options)\n          : null,\n      totalInclTax: prices?.row_total_including_tax ?? {\n        value: 0,\n        currency: 'USD',\n      },\n      priceInclTax: prices?.price_including_tax ?? {\n        value: 0,\n        currency: 'USD',\n      },\n      total: prices?.row_total ?? { value: 0, currency: 'USD' },\n      configurableOptions:\n        product?.__typename === 'ConfigurableProduct'\n          ? transformConfigurableOptions(item)\n          : undefined,\n      giftCard:\n        product?.__typename === 'GiftCardProduct'\n          ? transformGiftCard(item)\n          : undefined,\n      quantityCanceled: 0,\n      quantityInvoiced: 0,\n      quantityOrdered: quantity,\n      quantityRefunded: 0,\n      quantityReturned: 0,\n      quantityShipped: 0,\n      requestQuantity: 0,\n      totalQuantity: quantity,\n      returnableQuantity: 0,\n      quantityReturnRequested: 0,\n    };\n  };\n\n  const transformGiftOptions = (giftOptions: any) => {\n    return {\n      giftWrappingForItems: giftOptions?.gift_wrapping_for_items ?? {\n        value: 0,\n        currency: 'USD',\n      },\n      giftWrappingForItemsInclTax:\n        giftOptions?.gift_wrapping_for_items_incl_tax ?? {\n          value: 0,\n          currency: 'USD',\n        },\n      giftWrappingForOrder: giftOptions?.gift_wrapping_for_order ?? {\n        value: 0,\n        currency: 'USD',\n      },\n      giftWrappingForOrderInclTax:\n        giftOptions?.gift_wrapping_for_order_incl_tax ?? {\n          value: 0,\n          currency: 'USD',\n        },\n      printedCard: giftOptions?.printed_card ?? {\n        value: 0,\n        currency: 'USD',\n      },\n      printedCardInclTax: giftOptions?.printed_card_incl_tax ?? {\n        value: 0,\n        currency: 'USD',\n      },\n    };\n  };\n\n  const transformAppliedGiftCards = (appliedGiftCards: any[] = []) => {\n    if (!appliedGiftCards || appliedGiftCards.length === 0) return [];\n\n    return appliedGiftCards.map((giftCard: any) => ({\n      code: giftCard?.code ?? '',\n      appliedBalance: {\n        value: giftCard?.applied_balance?.value ?? 0,\n        currency: giftCard?.applied_balance?.currency ?? 'USD',\n      },\n    }));\n  };\n\n  const transformTaxes = (appliedTaxes: any[] = []) => {\n    if (!appliedTaxes || appliedTaxes.length === 0) return [];\n\n    return appliedTaxes.map((tax: any) => ({\n      amount: {\n        value: tax?.amount?.value ?? 0,\n        currency: tax?.amount?.currency ?? 'USD',\n      },\n      rate: tax?.rate ?? 0,\n      title: tax?.title ?? tax?.label ?? '',\n    }));\n  };\n\n  // Get shipping address (first one if multiple)\n  const shippingAddressData = quote?.shipping_addresses?.[0];\n  const billingAddressData = quote?.billing_address;\n  const selectedShippingMethod = shippingAddressData?.selected_shipping_method;\n  const selectedPaymentMethod = quote?.selected_payment_method;\n  const prices = quote?.prices;\n\n  // Transform items from quote\n  const items = quote?.itemsV2?.items?.map(transformQuoteItem) ?? [];\n\n  // Calculate total quantity\n  const totalQuantity = items.reduce(\n    (accum: number, item: any) => accum + item.totalQuantity,\n    0\n  );\n\n  // Build OrderDataModel structure from quote\n  // Build shipping method string like in order: \"carrier_title - method_title\"\n  const shippingMethodString = selectedShippingMethod\n    ? `${selectedShippingMethod.carrier_title ?? ''} - ${\n        selectedShippingMethod.method_title ?? ''\n      }`.trim()\n    : '';\n\n  const appliedGiftCards = transformAppliedGiftCards(quote?.applied_gift_cards);\n\n  return {\n    giftReceiptIncluded: quote?.gift_receipt_included ?? false,\n    printedCardIncluded: quote?.printed_card_included ?? false,\n    giftWrappingOrder: {\n      price: {\n        value: quote?.gift_wrapping?.price?.value ?? 0,\n        currency: quote?.gift_wrapping?.price?.currency ?? 'USD',\n      },\n      uid: quote?.gift_wrapping?.uid ?? '',\n    },\n    placeholderImage: '',\n    returnNumber: undefined,\n    id: quote?.id ?? '',\n    orderStatusChangeDate: undefined,\n    number: '', // Quotes don't have order numbers yet\n    email: quote?.email ?? '',\n    token: undefined,\n    status: 'pending', // Quote status\n    isVirtual: quote?.is_virtual ?? false,\n    totalQuantity,\n    shippingMethod: shippingMethodString,\n    carrier: selectedShippingMethod?.carrier_code ?? '',\n    orderDate: '', // Quotes don't have order date yet\n    returns: [],\n    discounts: prices?.discounts ?? [],\n    coupons: quote?.applied_coupons ?? [],\n    payments: [\n      {\n        code: selectedPaymentMethod?.code ?? '',\n        name: selectedPaymentMethod?.title ?? '',\n      },\n    ],\n    shipping: {\n      code: shippingMethodString,\n      amount: selectedShippingMethod?.amount?.value ?? 0,\n      currency: selectedShippingMethod?.amount?.currency ?? 'USD',\n    },\n    shipments: [],\n    items,\n    totalGiftCard: appliedGiftCards.length\n      ? appliedGiftCards.reduce(\n          (acc, gc) => ({\n            value: acc.value + (gc?.appliedBalance?.value ?? 0),\n            currency: gc?.appliedBalance?.currency ?? acc.currency,\n          }),\n          {\n            value: 0,\n            currency: appliedGiftCards[0]?.appliedBalance?.currency ?? 'USD',\n          }\n        )\n      : { value: 0, currency: 'USD' },\n    grandTotal: prices?.grand_total ?? { value: 0, currency: 'USD' },\n    grandTotalExclTax: prices?.grand_total_excluding_tax ?? {\n      value: 0,\n      currency: 'USD',\n    },\n    totalShipping: selectedShippingMethod?.amount ?? {\n      value: 0,\n      currency: 'USD',\n    },\n    subtotalExclTax: prices?.subtotal_excluding_tax ?? {\n      value: 0,\n      currency: 'USD',\n    },\n    subtotalInclTax: prices?.subtotal_including_tax ?? {\n      value: 0,\n      currency: 'USD',\n    },\n    totalTax: {\n      value:\n        (prices?.grand_total?.value ?? 0) -\n        (prices?.grand_total_excluding_tax?.value ?? 0),\n      currency: prices?.grand_total?.currency ?? 'USD',\n    },\n    shippingAddress: shippingAddressData\n      ? transformAddress(shippingAddressData)\n      : null,\n    totalGiftOptions: transformGiftOptions(prices?.gift_options),\n    billingAddress: billingAddressData\n      ? transformAddress(billingAddressData)\n      : null,\n    availableActions: [],\n    taxes: transformTaxes(prices?.applied_taxes),\n    appliedGiftCards,\n  };\n}\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { PURCHASE_ORDERS_FRAGMENT } from '@/b2b-purchase-order/api/graphql/PurchaseOrdersFragment.graphql';\n\nexport const APPROVE_PURCHASE_ORDERS = /* GraphQL */ `\n  mutation APPROVE_PURCHASE_ORDERS($input: PurchaseOrdersActionInput!) {\n    approvePurchaseOrders(input: $input) {\n      purchase_orders {\n        ...PURCHASE_ORDERS_FRAGMENT\n      }\n      errors {\n        message\n        type\n      }\n    }\n  }\n  ${PURCHASE_ORDERS_FRAGMENT}\n`;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\nimport { fetchGraphQl } from '@/b2b-purchase-order/api/fetch-graphql';\nimport { handleNetworkError } from '@/b2b-purchase-order/lib/network-error';\nimport { handleFetchError } from '@/b2b-purchase-order/lib/fetch-error';\nimport { APPROVE_PURCHASE_ORDERS } from '@/b2b-purchase-order/api/approvePurchaseOrders/graphql/approvePurchaseOrders.graphql';\nimport { transformPurchaseOrder } from '@/b2b-purchase-order/data/transforms/transform-purchase-order';\nimport { PurchaseOrderModel } from '@/b2b-purchase-order/data/models';\n\nexport const approvePurchaseOrders = async (\n  uids: string | string[]\n): Promise<{\n  errors: { message: string; type: string }[];\n  purchaseOrders: PurchaseOrderModel[];\n}> => {\n  const uidArray = Array.isArray(uids) ? uids : [uids];\n\n  if (!uidArray || uidArray.length === 0) {\n    throw new Error('Purchase Order UID(s) are required');\n  }\n\n  if (uidArray.some((uid) => !uid || uid.trim() === '')) {\n    throw new Error('All Purchase Order UIDs must be valid');\n  }\n\n  const input = {\n    purchase_order_uids: uidArray,\n  };\n\n  return fetchGraphQl(APPROVE_PURCHASE_ORDERS, {\n    variables: { input },\n  })\n    .then((response: any) => {\n      if (response.errors?.length) {\n        handleFetchError(response.errors);\n      }\n\n      const data = response.data?.approvePurchaseOrders;\n      if (!data) {\n        throw new Error('Failed to approve purchase orders');\n      }\n\n      return {\n        errors: (data?.errors ?? []).map((error: any) => ({\n          message: error?.message ?? '',\n          type: error?.type ?? '',\n        })),\n        purchaseOrders:\n          data?.purchase_orders?.map((order: any) =>\n            transformPurchaseOrder(order)\n          ) ?? [],\n      };\n    })\n    .catch(handleNetworkError);\n};\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { PURCHASE_ORDERS_FRAGMENT } from '@/b2b-purchase-order/api/graphql/PurchaseOrdersFragment.graphql';\n\nexport const REJECT_PURCHASE_ORDERS = /* GraphQL */ `\n  mutation REJECT_PURCHASE_ORDERS($input: PurchaseOrdersActionInput!) {\n    rejectPurchaseOrders(input: $input) {\n      purchase_orders {\n        ...PURCHASE_ORDERS_FRAGMENT\n      }\n      errors {\n        message\n        type\n      }\n    }\n  }\n  ${PURCHASE_ORDERS_FRAGMENT}\n`;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\nimport { fetchGraphQl } from '@/b2b-purchase-order/api/fetch-graphql';\nimport { handleNetworkError } from '@/b2b-purchase-order/lib/network-error';\nimport { handleFetchError } from '@/b2b-purchase-order/lib/fetch-error';\nimport { REJECT_PURCHASE_ORDERS } from '@/b2b-purchase-order/api/rejectPurchaseOrders/graphql/rejectPurchaseOrders.graphql';\nimport { transformPurchaseOrder } from '@/b2b-purchase-order/data/transforms/transform-purchase-order';\nimport { PurchaseOrderModel } from '@/b2b-purchase-order/data/models';\n\nexport const rejectPurchaseOrders = async (\n  uids: string | string[]\n): Promise<{\n  errors: { message: string; type: string }[];\n  purchaseOrders: PurchaseOrderModel[];\n}> => {\n  const uidArray = Array.isArray(uids) ? uids : [uids];\n\n  if (!uidArray || uidArray.length === 0) {\n    throw new Error('Purchase Order UID(s) are required');\n  }\n\n  if (uidArray.some((uid) => !uid || uid.trim() === '')) {\n    throw new Error('All Purchase Order UIDs must be valid');\n  }\n\n  const input = {\n    purchase_order_uids: uidArray,\n  };\n\n  return fetchGraphQl(REJECT_PURCHASE_ORDERS, {\n    variables: { input },\n  })\n    .then((response: any) => {\n      if (response.errors?.length) {\n        handleFetchError(response.errors);\n      }\n\n      const data = response.data?.rejectPurchaseOrders;\n\n      return {\n        errors: (data?.errors ?? []).map((error: any) => ({\n          message: error?.message ?? '',\n          type: error?.type ?? '',\n        })),\n        purchaseOrders: (data?.purchase_orders ?? []).map(\n          transformPurchaseOrder\n        ),\n      };\n    })\n    .catch(handleNetworkError);\n};\n"],"names":["PURCHASE_ORDER_QUOTE_FRAGMENT","PURCHASE_ORDERS_FRAGMENT","transformPurchaseOrder","purchaseOrder","_a","flow","event","_b","comment","_c","_d","_e","_f","log","transformQuoteToOrder","_g","_h","quote","parseNumber","value","transformUserInformation","user","transformAddress","address","firstName","lastName","middleName","transformProduct","product","_i","_j","transformConfigurableOptions","item","configurableOptions","option","transformBundleOptions","data","bundle","bundleOptions","transformLinks","links","link","transformGiftCard","transformGiftMessage","transformGiftWrapping","_k","transformWrappingPrice","transformTaxCalculations","itemPrices","productPrice","price","priceIncludingTax","originalPrice","discounted","baseOriginalPriceValue","includeAndExcludeTax","excludeTax","includeTax","transformQuoteItem","prices","quantity","transformGiftOptions","giftOptions","transformAppliedGiftCards","appliedGiftCards","giftCard","transformTaxes","appliedTaxes","tax","shippingAddressData","billingAddressData","selectedShippingMethod","selectedPaymentMethod","items","totalQuantity","accum","shippingMethodString","acc","gc","_l","_m","_n","_o","APPROVE_PURCHASE_ORDERS","approvePurchaseOrders","uids","uidArray","uid","fetchGraphQl","response","handleFetchError","error","order","handleNetworkError","REJECT_PURCHASE_ORDERS","rejectPurchaseOrders"],"mappings":"wDAqBO,MAAMA,GAA8C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A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"}