{"version":3,"file":"addPurchaseOrderComment.js","sources":["/@dropins/storefront-purchase-order/src/api/addPurchaseOrderComment/graphql/addPurchaseOrderComment.graphql.ts","/@dropins/storefront-purchase-order/src/data/transforms/transform-purchase-order-comment.ts","/@dropins/storefront-purchase-order/src/api/addPurchaseOrderComment/addPurchaseOrderComment.ts"],"sourcesContent":["/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nexport const ADD_PURCHASE_ORDER_COMMENT = /* GraphQL */ `\n  mutation ADD_PURCHASE_ORDER_COMMENT(\n    $purchaseOrderUid: ID!\n    $comment: String!\n  ) {\n    addPurchaseOrderComment(\n      input: { purchase_order_uid: $purchaseOrderUid, comment: $comment }\n    ) {\n      comment {\n        created_at\n        text\n        uid\n        author {\n          allow_remote_shopping_assistance\n          confirmation_status\n          created_at\n          date_of_birth\n          email\n          firstname\n          gender\n          job_title\n          lastname\n          middlename\n          prefix\n          status\n          structure_id\n          suffix\n          telephone\n        }\n      }\n    }\n  }\n`;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { PurchaseOrderCommentModel } from '@/b2b-purchase-order/data/models';\n\nexport const transformPurchaseOrderComment = (\n  comment: any\n): PurchaseOrderCommentModel => {\n  return {\n    createdAt: comment?.created_at ?? '',\n    text: comment?.text ?? '',\n    uid: comment?.uid ?? '',\n    author: {\n      allowRemoteShoppingAssistance:\n        comment?.author?.allow_remote_shopping_assistance ?? false,\n      confirmationStatus: comment?.author?.confirmation_status ?? '',\n      createdAt: comment?.author?.created_at ?? '',\n      dateOfBirth: comment?.author?.date_of_birth ?? '',\n      email: comment?.author?.email ?? '',\n      firstname: comment?.author?.firstname ?? '',\n      gender: comment?.author?.gender ?? 0,\n      jobTitle: comment?.author?.job_title ?? '',\n      lastname: comment?.author?.lastname ?? '',\n      middlename: comment?.author?.middlename ?? '',\n      prefix: comment?.author?.prefix ?? '',\n      status: comment?.author?.status ?? '',\n      structureId: comment?.author?.structure_id ?? '',\n      suffix: comment?.author?.suffix ?? '',\n      telephone: comment?.author?.telephone ?? '',\n    },\n  };\n};\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { fetchGraphQl } from '@/b2b-purchase-order/api/fetch-graphql';\nimport { handleNetworkError } from '@/b2b-purchase-order/lib/network-error';\nimport { handleFetchError } from '@/b2b-purchase-order/lib/fetch-error';\nimport { ADD_PURCHASE_ORDER_COMMENT } from '@/b2b-purchase-order/api/addPurchaseOrderComment/graphql/addPurchaseOrderComment.graphql';\nimport { transformPurchaseOrderComment } from '@/b2b-purchase-order/data/transforms';\nimport { PurchaseOrderCommentModel } from '@/b2b-purchase-order/data/models';\n\nexport const addPurchaseOrderComment = async (\n  uid: string,\n  comment: string\n): Promise<PurchaseOrderCommentModel> => {\n  if (!uid) {\n    throw new Error('Purchase Order ID is required');\n  }\n\n  if (!comment) {\n    throw new Error('Comment text is required');\n  }\n\n  const variables = {\n    purchaseOrderUid: uid,\n    comment,\n  };\n\n  return fetchGraphQl(ADD_PURCHASE_ORDER_COMMENT, {\n    variables,\n  })\n    .then((response: any) => {\n      if (response.errors?.length) {\n        handleFetchError(response.errors);\n      }\n\n      return transformPurchaseOrderComment(\n        response.data?.addPurchaseOrderComment?.comment\n      );\n    })\n    .catch(handleNetworkError);\n};\n"],"names":["ADD_PURCHASE_ORDER_COMMENT","transformPurchaseOrderComment","comment","_a","_b","_c","_d","_e","_f","_g","_h","_i","_j","_k","_l","_m","_n","_o","addPurchaseOrderComment","uid","fetchGraphQl","response","handleFetchError","handleNetworkError"],"mappings":"qDAiBO,MAAMA,EAA2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,ECE3CC,EACXC,GAC8B,mCAC9B,MAAO,CACL,WAAWA,GAAA,YAAAA,EAAS,aAAc,GAClC,MAAMA,GAAA,YAAAA,EAAS,OAAQ,GACvB,KAAKA,GAAA,YAAAA,EAAS,MAAO,GACrB,OAAQ,CACN,gCACEC,EAAAD,GAAA,YAAAA,EAAS,SAAT,YAAAC,EAAiB,mCAAoC,GACvD,qBAAoBC,EAAAF,GAAA,YAAAA,EAAS,SAAT,YAAAE,EAAiB,sBAAuB,GAC5D,YAAWC,EAAAH,GAAA,YAAAA,EAAS,SAAT,YAAAG,EAAiB,aAAc,GAC1C,cAAaC,EAAAJ,GAAA,YAAAA,EAAS,SAAT,YAAAI,EAAiB,gBAAiB,GAC/C,QAAOC,EAAAL,GAAA,YAAAA,EAAS,SAAT,YAAAK,EAAiB,QAAS,GACjC,YAAWC,EAAAN,GAAA,YAAAA,EAAS,SAAT,YAAAM,EAAiB,YAAa,GACzC,SAAQC,EAAAP,GAAA,YAAAA,EAAS,SAAT,YAAAO,EAAiB,SAAU,EACnC,WAAUC,EAAAR,GAAA,YAAAA,EAAS,SAAT,YAAAQ,EAAiB,YAAa,GACxC,WAAUC,EAAAT,GAAA,YAAAA,EAAS,SAAT,YAAAS,EAAiB,WAAY,GACvC,aAAYC,EAAAV,GAAA,YAAAA,EAAS,SAAT,YAAAU,EAAiB,aAAc,GAC3C,SAAQC,EAAAX,GAAA,YAAAA,EAAS,SAAT,YAAAW,EAAiB,SAAU,GACnC,SAAQC,EAAAZ,GAAA,YAAAA,EAAS,SAAT,YAAAY,EAAiB,SAAU,GACnC,cAAaC,EAAAb,GAAA,YAAAA,EAAS,SAAT,YAAAa,EAAiB,eAAgB,GAC9C,SAAQC,EAAAd,GAAA,YAAAA,EAAS,SAAT,YAAAc,EAAiB,SAAU,GACnC,YAAWC,EAAAf,GAAA,YAAAA,EAAS,SAAT,YAAAe,EAAiB,YAAa,EAAA,CAC3C,CAEJ,ECrBaC,EAA0B,MACrCC,EACAjB,IACuC,CACvC,GAAI,CAACiB,EACH,MAAM,IAAI,MAAM,+BAA+B,EAGjD,GAAI,CAACjB,EACH,MAAM,IAAI,MAAM,0BAA0B,EAQ5C,OAAOkB,EAAapB,EAA4B,CAC9C,UANgB,CAChB,iBAAkBmB,EAClB,QAAAjB,CAAA,CAIA,CACD,EACE,KAAMmB,GAAkB,WACvB,OAAIlB,EAAAkB,EAAS,SAAT,MAAAlB,EAAiB,QACnBmB,EAAiBD,EAAS,MAAM,EAG3BpB,GACLI,GAAAD,EAAAiB,EAAS,OAAT,YAAAjB,EAAe,0BAAf,YAAAC,EAAwC,OAAA,CAE5C,CAAC,EACA,MAAMkB,CAAkB,CAC7B"}