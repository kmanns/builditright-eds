{"version":3,"file":"getPurchaseOrderApprovalRule.js","sources":["/@dropins/storefront-purchase-order/src/api/getPurchaseOrderApprovalRule/graphql/getPurchaseOrderApprovalRule.graphql.ts","/@dropins/storefront-purchase-order/src/api/getPurchaseOrderApprovalRule/getPurchaseOrderApprovalRule.ts"],"sourcesContent":["/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nexport const GET_PURCHASE_ORDER_APPROVAL_RULE = /* GraphQL */ `\n  query GET_PURCHASE_ORDER_APPROVAL_RULE($uid: ID!) {\n    customer {\n      purchase_order_approval_rule(uid: $uid) {\n        created_at\n        created_by\n        description\n        name\n        status\n        uid\n        updated_at\n        applies_to_roles {\n          id\n          name\n          users_count\n        }\n        approver_roles {\n          id\n          name\n          users_count\n        }\n        condition {\n          attribute\n          operator\n          ... on PurchaseOrderApprovalRuleConditionAmount {\n            attribute\n            operator\n            amount {\n              currency\n              value\n            }\n          }\n          ... on PurchaseOrderApprovalRuleConditionQuantity {\n            attribute\n            operator\n            quantity\n          }\n        }\n      }\n    }\n  }\n`;\n","/********************************************************************\n * ADOBE CONFIDENTIAL\n * __________________\n *\n *  Copyright 2025 Adobe\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe and its suppliers, if any. The intellectual\n * and technical concepts contained herein are proprietary to Adobe\n * and its suppliers and are protected by all applicable intellectual\n * property laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe.\n *******************************************************************/\n\nimport { fetchGraphQl } from '@/b2b-purchase-order/api/fetch-graphql';\nimport { handleNetworkError } from '@/b2b-purchase-order/lib/network-error';\nimport { handleFetchError } from '@/b2b-purchase-order/lib';\nimport { GET_PURCHASE_ORDER_APPROVAL_RULE } from '@/b2b-purchase-order/api/getPurchaseOrderApprovalRule/graphql/getPurchaseOrderApprovalRule.graphql';\nimport { transformPurchaseOrderApprovalRule } from '@/b2b-purchase-order/data/transforms';\nimport { PurchaseOrderApprovalRuleModel } from '@/b2b-purchase-order/data/models';\n\nexport const getPurchaseOrderApprovalRule = async (\n  id: string\n): Promise<PurchaseOrderApprovalRuleModel> => {\n  return fetchGraphQl(GET_PURCHASE_ORDER_APPROVAL_RULE, {\n    variables: { uid: id },\n  })\n    .then((response: any) => {\n      if (response.errors?.length) {\n        handleFetchError(response.errors);\n      }\n\n      const rulesData = response?.data?.customer?.purchase_order_approval_rule;\n\n      return transformPurchaseOrderApprovalRule(rulesData);\n    })\n    .catch(handleNetworkError);\n};\n"],"names":["GET_PURCHASE_ORDER_APPROVAL_RULE","getPurchaseOrderApprovalRule","id","fetchGraphQl","response","_a","handleFetchError","rulesData","_c","_b","transformPurchaseOrderApprovalRule","handleNetworkError"],"mappings":"mJAiBO,MAAMA,EAAiD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,ECOjDC,EAA+B,MAC1CC,GAEOC,EAAaH,EAAkC,CACpD,UAAW,CAAE,IAAKE,CAAA,CAAG,CACtB,EACE,KAAME,GAAkB,YACnBC,EAAAD,EAAS,SAAT,MAAAC,EAAiB,QACnBC,EAAiBF,EAAS,MAAM,EAGlC,MAAMG,GAAYC,GAAAC,EAAAL,GAAA,YAAAA,EAAU,OAAV,YAAAK,EAAgB,WAAhB,YAAAD,EAA0B,6BAE5C,OAAOE,EAAmCH,CAAS,CACrD,CAAC,EACA,MAAMI,CAAkB"}